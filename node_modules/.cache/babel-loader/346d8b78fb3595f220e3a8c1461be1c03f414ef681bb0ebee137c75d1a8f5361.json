{"ast":null,"code":"var _s = $RefreshSig$();\nimport { validateForm } from '@utils/validateUtils';\nimport { validatePassword, validateUserName } from '@utils/validator';\nimport axios from 'axios';\nimport { useMutation } from 'react-query';\nexport const LoginFormFields = {\n  admin_user_id: {\n    label: 'Enter User ID'\n  },\n  admin_password: {\n    label: 'Enter Password',\n    type: 'password'\n  }\n  // captcha: {\n  // \tlabel: 'Enter Captcha',\n  // \trequired: true,\n  // },\n};\nexport const validateLoginFields = (fieldName, formData) => {\n  switch (fieldName) {\n    case 'admin_user_id':\n      return validateUserName(formData[fieldName]);\n    case 'admin_password':\n      return validatePassword(formData[fieldName]);\n    // case 'captcha':\n    // \treturn validateCaptcha(formData[fieldName]);\n\n    default:\n      return '';\n  }\n};\nexport const validateLoginForm = formData => validateForm(formData, validateLoginFields);\nexport const useLoginApi = () => {\n  _s();\n  return useMutation(info => axios({\n    method: 'POST',\n    url: `/admin_login/`,\n    data: info.request\n  }));\n};\n_s(useLoginApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});","map":{"version":3,"names":["validateForm","validatePassword","validateUserName","axios","useMutation","LoginFormFields","admin_user_id","label","admin_password","type","validateLoginFields","fieldName","formData","validateLoginForm","useLoginApi","_s","info","method","url","data","request"],"sources":["D:/Krunal/makemybucks/src/@hooks/admin-login.ts"],"sourcesContent":["import { FieldProps, FormError } from '@interfaces/common';\r\nimport { validateForm } from '@utils/validateUtils';\r\nimport { validatePassword, validateUserName } from '@utils/validator';\r\nimport axios from 'axios';\r\nimport { useMutation } from 'react-query';\r\n\r\nexport type LoginRequest = { admin_user_id: string; admin_password: string };\r\n\r\nexport type LoginFormFields = {\r\n\t[key in keyof LoginRequest]: FieldProps;\r\n};\r\n\r\nexport const LoginFormFields: Partial<LoginFormFields> = {\r\n\tadmin_user_id: {\r\n\t\tlabel: 'Enter User ID',\r\n\t},\r\n\tadmin_password: {\r\n\t\tlabel: 'Enter Password',\r\n\t\ttype: 'password',\r\n\t},\r\n\t// captcha: {\r\n\t// \tlabel: 'Enter Captcha',\r\n\t// \trequired: true,\r\n\t// },\r\n};\r\n\r\nexport const validateLoginFields = (\r\n\tfieldName: keyof LoginRequest,\r\n\tformData: LoginRequest\r\n): string => {\r\n\tswitch (fieldName) {\r\n\t\tcase 'admin_user_id':\r\n\t\t\treturn validateUserName(formData[fieldName]);\r\n\t\tcase 'admin_password':\r\n\t\t\treturn validatePassword(formData[fieldName]);\r\n\t\t// case 'captcha':\r\n\t\t// \treturn validateCaptcha(formData[fieldName]);\r\n\r\n\t\tdefault:\r\n\t\t\treturn '';\r\n\t}\r\n};\r\n\r\nexport const validateLoginForm = (formData: LoginRequest): FormError<LoginRequest> =>\r\n\tvalidateForm(formData, validateLoginFields);\r\n\r\nexport type LoginResponse = {\r\n\taccess_token: string;\r\n\tuser_data: {\r\n\t\tadmin_user_id: string;\r\n\t\tadmin_name: string;\r\n\t\temail: string;\r\n\t\tmobile_no: string;\r\n\t\tadmin_id: string;\r\n\t\tadmin_profile: string;\r\n\t};\r\n};\r\n\r\nexport const useLoginApi = () => {\r\n\treturn useMutation((info: { request: LoginRequest }) =>\r\n\t\taxios<LoginResponse>({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `/admin_login/`,\r\n\t\t\tdata: info.request,\r\n\t\t})\r\n\t);\r\n};\r\n"],"mappings":";AACA,SAASA,YAAY,QAAQ,sBAAsB;AACnD,SAASC,gBAAgB,EAAEC,gBAAgB,QAAQ,kBAAkB;AACrE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,aAAa;AAQzC,OAAO,MAAMC,eAAyC,GAAG;EACxDC,aAAa,EAAE;IACdC,KAAK,EAAE;EACR,CAAC;EACDC,cAAc,EAAE;IACfD,KAAK,EAAE,gBAAgB;IACvBE,IAAI,EAAE;EACP;EACA;EACA;EACA;EACA;AACD,CAAC;AAED,OAAO,MAAMC,mBAAmB,GAAGA,CAClCC,SAA6B,EAC7BC,QAAsB,KACV;EACZ,QAAQD,SAAS;IAChB,KAAK,eAAe;MACnB,OAAOT,gBAAgB,CAACU,QAAQ,CAACD,SAAS,CAAC,CAAC;IAC7C,KAAK,gBAAgB;MACpB,OAAOV,gBAAgB,CAACW,QAAQ,CAACD,SAAS,CAAC,CAAC;IAC7C;IACA;;IAEA;MACC,OAAO,EAAE;EACX;AACD,CAAC;AAED,OAAO,MAAME,iBAAiB,GAAID,QAAsB,IACvDZ,YAAY,CAACY,QAAQ,EAAEF,mBAAmB,CAAC;AAc5C,OAAO,MAAMI,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,OAAOX,WAAW,CAAEY,IAA+B,IAClDb,KAAK,CAAgB;IACpBc,MAAM,EAAE,MAAM;IACdC,GAAG,EAAG,eAAc;IACpBC,IAAI,EAAEH,IAAI,CAACI;EACZ,CAAC,CACF,CAAC;AACF,CAAC;AAACL,EAAA,CARWD,WAAW;EAAA,QAChBV,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}