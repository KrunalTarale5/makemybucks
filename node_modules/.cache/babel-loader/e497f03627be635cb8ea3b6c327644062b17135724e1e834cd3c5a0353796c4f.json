{"ast":null,"code":"import{createContext}from'react';import{validateForm}from'@utils/validateUtils';import{validateAddharNumber,validateEmail,validateFirstName,validateFlatNo,validateImage,validateLastName,validateLocalCity,validateLocalPinCode,validateLocalState,validateMobileNo,validatePersonalNo,validateReEmail,validateRole,validateStreetName,validateWorkLocation}from'@utils/validator';import axios from'axios';import{useMutation,useQuery}from'react-query';export const SALES_EXECUTIVE_FORM_STEPS=['Basic Details','Address','Identity Proof','Assign Role'];export const BasicDetailsFormFields={first_name:{label:'First Name',required:true},last_name:{label:'Last Name',required:true},email:{label:'Email ID',type:'email',required:true},reEmail:{label:'Re- Enter Email ID',type:'email',required:true},mobile_no:{label:'Mobile Number',fieldType:'mobile-number',required:true},personal_no:{label:'Personal Number',fieldType:'mobile-number',required:true}};export const AddressDetailsFormFields={localAddress:{local_flat_no:{label:'Flat/Building',required:true},local_street_name:{label:'Road/Street',required:true},local_city:{label:'City',required:true},local_pin_code:{label:'PIN Code',fieldType:'number',required:true},local_state:{label:'State',required:true,fieldType:'select',options:[]}},permanentAddress:{permanent_flat_no:{label:'Flat/Building',required:true},permanent_street_name:{label:'Road/Street',required:true},permanent_city:{label:'City',required:true},permanent_pin_code:{label:'PIN Code',fieldType:'number',required:true},permanent_state:{label:'State',required:true,fieldType:'select',options:[]}}};export const IdentityProofFormFields={aadhar_no:{label:'AADHAR Number',required:true,fieldType:'number'},addhar_front_pic:{label:'Upload Aadhar Front',required:true,fieldType:'upload'},addhar_back_pic:{label:'Upload Aadhar Back',required:true,fieldType:'upload'}};export const AssignRoleFormFields={assign_role:{label:'Assign Role',required:true,fieldType:'select',options:[]},assign_work_location:{label:'Assign Work Location',required:true,fieldType:'select',options:[]}};export const AddSalesExecutiveContext=/*#__PURE__*/createContext({formData:{},setFormData:()=>undefined,activeStep:0,// eslint-disable-next-line @typescript-eslint/no-unused-vars\nsetActiveStep:activeStep=>undefined});export const validateAddressDetailsFields=(fieldName,formData)=>{switch(fieldName){case'local_flat_no':case'permanent_flat_no':return validateFlatNo(formData[fieldName]);case'local_street_name':case'permanent_street_name':return validateStreetName(formData[fieldName]);case'local_city':case'permanent_city':return validateLocalCity(formData[fieldName]);case'local_pin_code':case'permanent_pin_code':return validateLocalPinCode(formData[fieldName]);case'local_state':case'permanent_state':return validateLocalState(formData[fieldName]);default:return'';}};export const validateIdentityProofFields=(fieldName,formData)=>{switch(fieldName){case'aadhar_no':return validateAddharNumber(formData[fieldName]);case'addhar_back_pic':case'addhar_front_pic':return validateImage(formData[fieldName]);default:return'';}};export const validateAssignRoleFields=(fieldName,formData)=>{switch(fieldName){case'assign_role':return validateRole(formData[fieldName]);case'assign_work_location':return validateWorkLocation(formData[fieldName]);default:return'';}};export const validateBasicDetailFields=(fieldName,formData)=>{switch(fieldName){case'first_name':return validateFirstName(formData[fieldName]);case'last_name':return validateLastName(formData[fieldName]);case'email':return validateEmail(formData[fieldName]);case'reEmail':return validateReEmail(formData[fieldName],formData.email);case'mobile_no':return validateMobileNo(formData[fieldName]);case'personal_no':return validatePersonalNo(formData[fieldName]);default:return'';}};export const validateAddressDetailsForm=formData=>validateForm(formData,validateAddressDetailsFields);export const validateBasicDetailForm=formData=>validateForm(formData,validateBasicDetailFields);export const validateIdentityProofForm=formData=>validateForm(formData,validateIdentityProofFields);export const validateAssignRoleForm=formData=>validateForm(formData,validateAssignRoleFields);export const addSubAdminApi=request=>{const formData=new FormData();Object.keys(request).forEach(l=>{if(!(l==='profile_pic'||l==='addhar_front_pic'||l==='addhar_back_pic')){formData.append(l,request[l]);}});if(request.profile_pic)formData.append('profile_pic',request.profile_pic[0],request.profile_pic[0].name);if(request.addhar_front_pic)formData.append('addhar_front_pic',request.addhar_front_pic[0],request.addhar_front_pic[0].name);if(request.addhar_back_pic)formData.append('addhar_back_pic',request.addhar_back_pic[0],request.addhar_back_pic[0].name);return axios({method:'POST',url:\"/add_subadmin/\",data:formData});};export const useGetSalesExecutivesApi=request=>{return useQuery(['sales-excecutive',request],()=>axios({method:'GET',url:\"/for_subadmin_detail/\",params:request}));};export const useGetAssignRolesApi=()=>{return useQuery(['get-subadmin-roles'],()=>axios({method:'GET',url:\"/get_subadmin_roles/\"}));};export const useGetSubAdminCountApi=()=>{return useQuery(['admin_dashboard_count'],()=>axios({method:'GET',url:\"/admin_dashboard_count/\"}));};export const useGetWorkLocationApi=()=>{return useQuery(['get_work_location'],()=>axios({method:'GET',url:\"/get_work_location/\"}));};export const useGetStateApi=()=>{return useQuery(['get_stateName'],()=>axios({method:'GET',url:\"/get_stateName/\"}));};export const useDeleteSalesExecutivesApi=()=>{return useMutation(info=>axios({method:'POST',url:\"/change_subadmin_status/\",data:info}));};export const useGetSubAdminDetailsApi=id=>{return useQuery(['get_subadmin_restaurant'],()=>axios({method:'GET',url:\"/get_subadmin_restaurant/\".concat(id,\"/\")}));};export const useVerifySalesExecutivesMobileNumberApi=()=>{return useMutation(info=>axios({method:'POST',url:\"/verify_subadmin_contact_no/\",data:info}));};export const useVerifySalesExecutivesAAdharApi=()=>{return useMutation(info=>axios({method:'POST',url:\"/verify_subadmin_aadhar/\",data:info}));};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}