{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport { validateForm } from '@utils/validateUtils';\nimport { validateImage } from '@utils/validator';\nimport axios from 'axios';\nimport { useMutation, useQuery } from 'react-query';\nexport const validateBannerFields = (fieldName, formData) => {\n  switch (fieldName) {\n    case 'BannerImg1':\n    case 'BannerImg2':\n    case 'BannerImg3':\n    case 'BannerImg4':\n      return validateImage(formData[fieldName]);\n\n    // case 'b1_restaurant_id':\n    // case 'b2_restaurant_id':\n    // case 'b3_restaurant_id':\n    // case 'b4_restaurant_id':\n    // \treturn validateRestarant(formData[fieldName] as Option);\n\n    default:\n      return '';\n  }\n};\nexport const validateBannerForm = formData => validateForm(formData, validateBannerFields);\nexport const useBannerPublishApi = () => {\n  _s();\n  return useMutation(info => {\n    var _info$request$b1_rest, _info$request$b2_rest, _info$request$b3_rest, _info$request$b4_rest;\n    const formData = new FormData();\n    if (info.request.BannerImg1 && typeof info.request.BannerImg1 !== 'string') formData.append('BannerImg1', info.request.BannerImg1[0], info.request.BannerImg1[0].name);\n    if (info.request.BannerImg2 && typeof info.request.BannerImg2 !== 'string') formData.append('BannerImg2', info.request.BannerImg2[0], info.request.BannerImg2[0].name);\n    if (info.request.BannerImg3 && typeof info.request.BannerImg3 !== 'string') formData.append('BannerImg3', info.request.BannerImg3[0], info.request.BannerImg3[0].name);\n    if (info.request.BannerImg4 && typeof info.request.BannerImg4 !== 'string') formData.append('BannerImg4', info.request.BannerImg4[0], info.request.BannerImg4[0].name);\n    if (info.request.b1_restaurant_id) formData.append('b1_restaurant_id', (_info$request$b1_rest = info.request.b1_restaurant_id) === null || _info$request$b1_rest === void 0 ? void 0 : _info$request$b1_rest.value);\n    if (info.request.b2_restaurant_id) formData.append('b2_restaurant_id', (_info$request$b2_rest = info.request.b2_restaurant_id) === null || _info$request$b2_rest === void 0 ? void 0 : _info$request$b2_rest.value);\n    if (info.request.b3_restaurant_id) formData.append('b3_restaurant_id', (_info$request$b3_rest = info.request.b3_restaurant_id) === null || _info$request$b3_rest === void 0 ? void 0 : _info$request$b3_rest.value);\n    if (info.request.b4_restaurant_id) formData.append('b4_restaurant_id', (_info$request$b4_rest = info.request.b4_restaurant_id) === null || _info$request$b4_rest === void 0 ? void 0 : _info$request$b4_rest.value);\n    if (info.request.b1_publish_status) formData.append('b1_publish_status', info.request.b1_publish_status);\n    if (info.request.b2_publish_status) formData.append('b2_publish_status', info.request.b2_publish_status);\n    if (info.request.b3_publish_status) formData.append('b3_publish_status', info.request.b3_publish_status);\n    if (info.request.b4_publish_status) formData.append('b4_publish_status', info.request.b4_publish_status);\n    return axios({\n      method: 'POST',\n      url: `/update_banner_new/`,\n      data: formData\n    });\n  });\n};\n_s(useBannerPublishApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const useBannerUnPublishApi = () => {\n  _s2();\n  return useMutation(info => {\n    const formData = new FormData();\n    formData.append('banner_number', info.request.banner_number);\n    formData.append('restaurant_id', info.request.restaurant_id);\n    return axios({\n      method: 'POST',\n      url: `/unpublish_banner/`,\n      data: info.request\n    });\n  });\n};\n_s2(useBannerUnPublishApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const useGetBannerApi = id => {\n  _s3();\n  return useQuery(['get_banner_admin', id], () => axios({\n    method: 'GET',\n    url: `/get_banner_admin/${id}/`\n  }), {\n    enabled: Boolean(id),\n    retry: 0\n  });\n};\n_s3(useGetBannerApi, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useGetBannerRestaurantNamesApi = () => {\n  _s4();\n  return useQuery(['get_restaurants_name'], () => axios({\n    method: 'GET',\n    url: `/get_restaurants_name/`\n  }));\n};\n_s4(useGetBannerRestaurantNamesApi, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useGetInitialBannersApi = () => {\n  _s5();\n  return useQuery(['get_banner_admin_new'], () => axios({\n    method: 'GET',\n    url: `/get_banner_admin_new/`\n  }));\n};\n_s5(useGetInitialBannersApi, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});","map":{"version":3,"names":["validateForm","validateImage","axios","useMutation","useQuery","validateBannerFields","fieldName","formData","validateBannerForm","useBannerPublishApi","_s","info","_info$request$b1_rest","_info$request$b2_rest","_info$request$b3_rest","_info$request$b4_rest","FormData","request","BannerImg1","append","name","BannerImg2","BannerImg3","BannerImg4","b1_restaurant_id","value","b2_restaurant_id","b3_restaurant_id","b4_restaurant_id","b1_publish_status","b2_publish_status","b3_publish_status","b4_publish_status","method","url","data","useBannerUnPublishApi","_s2","banner_number","restaurant_id","useGetBannerApi","id","_s3","enabled","Boolean","retry","useGetBannerRestaurantNamesApi","_s4","useGetInitialBannersApi","_s5"],"sources":["D:/Krunal/Novabite/makemybucks/src/@hooks/admin-banners.ts"],"sourcesContent":["import { FormError, Option } from '@interfaces/common';\r\nimport { validateForm } from '@utils/validateUtils';\r\nimport { validateImage } from '@utils/validator';\r\nimport axios from 'axios';\r\nimport { useMutation, useQuery } from 'react-query';\r\n\r\nexport type BannerRequest = {\r\n\tb1_restaurant_id: string | Option;\r\n\tb2_restaurant_id: string | Option;\r\n\tb3_restaurant_id: string | Option;\r\n\tb4_restaurant_id: string | Option;\r\n\tBannerImg1: FileList | string;\r\n\tBannerImg2: FileList | string;\r\n\tBannerImg3: FileList | string;\r\n\tBannerImg4: FileList | string;\r\n\tb1_publish_status: string;\r\n\tb2_publish_status: string;\r\n\tb3_publish_status: string;\r\n\tb4_publish_status: string;\r\n};\r\n\r\nexport const validateBannerFields = (\r\n\tfieldName: keyof BannerRequest,\r\n\tformData: Partial<BannerRequest>\r\n): string => {\r\n\tswitch (fieldName) {\r\n\t\tcase 'BannerImg1':\r\n\t\tcase 'BannerImg2':\r\n\t\tcase 'BannerImg3':\r\n\t\tcase 'BannerImg4':\r\n\t\t\treturn validateImage(formData[fieldName] as FileList);\r\n\r\n\t\t// case 'b1_restaurant_id':\r\n\t\t// case 'b2_restaurant_id':\r\n\t\t// case 'b3_restaurant_id':\r\n\t\t// case 'b4_restaurant_id':\r\n\t\t// \treturn validateRestarant(formData[fieldName] as Option);\r\n\r\n\t\tdefault:\r\n\t\t\treturn '';\r\n\t}\r\n};\r\nexport const validateBannerForm = (\r\n\tformData: Partial<BannerRequest>\r\n): FormError<Partial<BannerRequest>> => validateForm(formData, validateBannerFields);\r\n\r\nexport const useBannerPublishApi = () =>\r\n\tuseMutation((info: { request: Partial<BannerRequest> }) => {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tif (info.request.BannerImg1 && typeof info.request.BannerImg1 !== 'string')\r\n\t\t\tformData.append('BannerImg1', info.request.BannerImg1[0], info.request.BannerImg1[0].name);\r\n\t\tif (info.request.BannerImg2 && typeof info.request.BannerImg2 !== 'string')\r\n\t\t\tformData.append('BannerImg2', info.request.BannerImg2[0], info.request.BannerImg2[0].name);\r\n\t\tif (info.request.BannerImg3 && typeof info.request.BannerImg3 !== 'string')\r\n\t\t\tformData.append('BannerImg3', info.request.BannerImg3[0], info.request.BannerImg3[0].name);\r\n\t\tif (info.request.BannerImg4 && typeof info.request.BannerImg4 !== 'string')\r\n\t\t\tformData.append('BannerImg4', info.request.BannerImg4[0], info.request.BannerImg4[0].name);\r\n\r\n\t\tif (info.request.b1_restaurant_id)\r\n\t\t\tformData.append('b1_restaurant_id', (info.request.b1_restaurant_id as Option)?.value);\r\n\t\tif (info.request.b2_restaurant_id)\r\n\t\t\tformData.append('b2_restaurant_id', (info.request.b2_restaurant_id as Option)?.value);\r\n\t\tif (info.request.b3_restaurant_id)\r\n\t\t\tformData.append('b3_restaurant_id', (info.request.b3_restaurant_id as Option)?.value);\r\n\t\tif (info.request.b4_restaurant_id)\r\n\t\t\tformData.append('b4_restaurant_id', (info.request.b4_restaurant_id as Option)?.value);\r\n\r\n\t\tif (info.request.b1_publish_status)\r\n\t\t\tformData.append('b1_publish_status', info.request.b1_publish_status);\r\n\t\tif (info.request.b2_publish_status)\r\n\t\t\tformData.append('b2_publish_status', info.request.b2_publish_status);\r\n\t\tif (info.request.b3_publish_status)\r\n\t\t\tformData.append('b3_publish_status', info.request.b3_publish_status);\r\n\t\tif (info.request.b4_publish_status)\r\n\t\t\tformData.append('b4_publish_status', info.request.b4_publish_status);\r\n\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `/update_banner_new/`,\r\n\t\t\tdata: formData,\r\n\t\t});\r\n\t});\r\n\r\nexport const useBannerUnPublishApi = () => {\r\n\treturn useMutation((info: { request: { restaurant_id: string; banner_number: string } }) => {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tformData.append('banner_number', info.request.banner_number);\r\n\t\tformData.append('restaurant_id', info.request.restaurant_id);\r\n\t\treturn axios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `/unpublish_banner/`,\r\n\t\t\tdata: info.request,\r\n\t\t});\r\n\t});\r\n};\r\n\r\nexport type BannerResponse = {\r\n\tdata: {\r\n\t\trestaurant_id: string;\r\n\t\tbanner_1: string;\r\n\t\tbanner_2: string;\r\n\t\tbanner_3: string;\r\n\t\tbanner_4: string;\r\n\t\tadded_datetime: string;\r\n\t\tupdated_datetime: string;\r\n\t};\r\n};\r\n\r\nexport const useGetBannerApi = (id: string) => {\r\n\treturn useQuery(\r\n\t\t['get_banner_admin', id],\r\n\t\t() =>\r\n\t\t\taxios<BannerResponse>({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: `/get_banner_admin/${id}/`,\r\n\t\t\t}),\r\n\t\t{ enabled: Boolean(id), retry: 0 }\r\n\t);\r\n};\r\n\r\nexport type BannerRestaurantNameResponse = {\r\n\trestaurant_list: Option[];\r\n};\r\nexport const useGetBannerRestaurantNamesApi = () => {\r\n\treturn useQuery(['get_restaurants_name'], () =>\r\n\t\taxios<BannerRestaurantNameResponse>({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `/get_restaurants_name/`,\r\n\t\t})\r\n\t);\r\n};\r\n\r\nexport type InitialBannerResponse = {\r\n\tdata: {\r\n\t\tbanner_count: number;\r\n\t\tbanner_id: string;\r\n\t\tbanner_1: string;\r\n\t\tb1_restaurant_id: string;\r\n\t\tbanner_2: string;\r\n\t\tb2_restaurant_id: string;\r\n\t\tbanner_3: string;\r\n\t\tb3_restaurant_id: string;\r\n\t\tbanner_4: string;\r\n\t\tb4_restaurant_id: string;\r\n\t\tb1_publish_status: string;\r\n\t\tb2_publish_status: string;\r\n\t\tb3_publish_status: string;\r\n\t\tb4_publish_status: string;\r\n\t\tadded_datetime: string;\r\n\t\tupdated_datetime: string;\r\n\t}[];\r\n};\r\n\r\nexport const useGetInitialBannersApi = () => {\r\n\treturn useQuery(['get_banner_admin_new'], () =>\r\n\t\taxios<InitialBannerResponse>({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `/get_banner_admin_new/`,\r\n\t\t})\r\n\t);\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}