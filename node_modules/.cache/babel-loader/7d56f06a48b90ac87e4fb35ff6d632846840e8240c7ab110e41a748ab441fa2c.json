{"ast":null,"code":"/* eslint-disable indent */import{memo,useEffect,useState}from'react';import{Stack,TextField,Typography,Autocomplete,Checkbox,MenuItem,InputAdornment,IconButton,useTheme,FormHelperText}from'@mui/material';import{LocalizationProvider}from'@mui/x-date-pickers';import{DemoContainer}from'@mui/x-date-pickers/internals/demo';import{DatePicker}from'@mui/x-date-pickers/DatePicker';import{AdapterMoment}from'@mui/x-date-pickers/AdapterMoment';import moment from'moment';import IconFinder from'./Icon';import Uploader from'./Uploader';import{PoppinsTypography}from'./Typography';import{useIsOverflow}from'@hooks/common';import{useLocation}from'react-router-dom';import{RESTAURANT_BASE_URL}from'@utils/common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const InputField=props=>{var _props$fieldProps,_props$fieldProps2,_props$fieldProps3,_props$fieldProps4,_props$fieldProps$opt,_props$fieldProps5,_AutocompleteRef$getB,_props$fieldProps6,_props$fieldProps7,_props$fieldProps8,_props$fieldProps9;const location=useLocation();const isoverlow=useIsOverflow(document.getElementById('admin-outlet'));const[isEyeOpen,setEyeOpen]=useState(false);const theme=useTheme();const isRestaurantView=location.pathname.includes(\"/\".concat(RESTAURANT_BASE_URL,\"/\"));const[AutocompleteRef,setAutocompleteRef]=useState(null);const[getX,setX]=useState(0);const get=()=>{let x=0;if(isoverlow){var _ref,_document$getElementB;x=(_ref=Number(AutocompleteRef===null||AutocompleteRef===void 0?void 0:AutocompleteRef.getBoundingClientRect().top)-Number((_document$getElementB=document.getElementById('autocomplete-popper'))===null||_document$getElementB===void 0?void 0:_document$getElementB.getBoundingClientRect().height))!==null&&_ref!==void 0?_ref:0;}else{var _ref2;x=(_ref2=Number(AutocompleteRef===null||AutocompleteRef===void 0?void 0:AutocompleteRef.getBoundingClientRect().top)+50)!==null&&_ref2!==void 0?_ref2:0;}return x;};useEffect(()=>{if(AutocompleteRef){setX(get());}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[AutocompleteRef]);return/*#__PURE__*/_jsxs(Stack,{gap:1,className:\"inputField-root\",sx:{position:'relative',...((_props$fieldProps=props.fieldProps)===null||_props$fieldProps===void 0?void 0:_props$fieldProps.sx)},children:[props.showLabel!==false&&/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",display:'flex',gap:0.5,children:[(_props$fieldProps2=props.fieldProps)===null||_props$fieldProps2===void 0?void 0:_props$fieldProps2.label,((_props$fieldProps3=props.fieldProps)===null||_props$fieldProps3===void 0?void 0:_props$fieldProps3.required)&&/*#__PURE__*/_jsx(Typography,{className:\"required\",variant:\"subtitle1\",sx:{color:theme.palette.error.main},children:\"*\"})]}),props.fieldType==='date'&&/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterMoment,children:/*#__PURE__*/_jsx(DemoContainer,{components:['DatePicker'],sx:{flexDirection:'column-reverse !important',overflow:'hidden',padding:'inherit'},children:/*#__PURE__*/_jsx(DatePicker,{sx:{flex:'auto','.MuiInputBase-input':{paddingY:1}},value:props.value,onChange:e=>{var _props$onChange;(_props$onChange=props.onChange)===null||_props$onChange===void 0?void 0:_props$onChange.call(props,props.fieldName,moment(e).toISOString(),props.fieldType,e);}})})}),(props.fieldType==='select'||props.fieldType==='multple-select')&&/*#__PURE__*/_jsx(Autocomplete,{disabled:(_props$fieldProps4=props.fieldProps)===null||_props$fieldProps4===void 0?void 0:_props$fieldProps4.disabled,multiple:props.fieldType==='multple-select',getOptionLabel:option=>{var _option$label;return(_option$label=option.label)!==null&&_option$label!==void 0?_option$label:'';},options:(_props$fieldProps$opt=(_props$fieldProps5=props.fieldProps)===null||_props$fieldProps5===void 0?void 0:_props$fieldProps5.options)!==null&&_props$fieldProps$opt!==void 0?_props$fieldProps$opt:[],disableCloseOnSelect:props.fieldType==='multple-select',value:props.value,defaultValue:props.value,isOptionEqualToValue:(option,value)=>(option===null||option===void 0?void 0:option.value)===(value===null||value===void 0?void 0:value.value),renderOption:(_props,option,_ref3)=>{let{selected}=_ref3;return/*#__PURE__*/_jsxs(MenuItem,{..._props,disableGutters:true,children:[props.fieldType==='multple-select'&&/*#__PURE__*/_jsx(Checkbox,{checked:selected,sx:{marginRight:1}}),option.label]});},renderInput:params=>/*#__PURE__*/_jsx(TextField,{...params,size:\"small\",...props.fieldProps,name:props.fieldName,label:\"\",onClick:e=>setAutocompleteRef(e.currentTarget)}),ChipProps:{color:'primary',size:'small'},onChange:(event,value,reason,details)=>{var _props$onChange2;(_props$onChange2=props.onChange)===null||_props$onChange2===void 0?void 0:_props$onChange2.call(props,props.fieldName,value,props.fieldType,{event,reason,details});},onClose:()=>setAutocompleteRef(null),componentsProps:!location.pathname.includes('/sub-admin/')?{popper:{id:'autocomplete-popper',className:'delayedShow',sx:{maxHeight:'100px',visibility:'hidden',inset:\"0px auto auto 0px !important\",transform:\"translate(\".concat((_AutocompleteRef$getB=AutocompleteRef===null||AutocompleteRef===void 0?void 0:AutocompleteRef.getBoundingClientRect().x)!==null&&_AutocompleteRef$getB!==void 0?_AutocompleteRef$getB:0,\"px, \").concat(getX,\"px) !important\")}}}:undefined}),props.fieldType==='upload'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Uploader,{fieldName:props.fieldName,sx:{gap:1.5,alignItems:'center',placeContent:'center'},file:props.value,onChange:e=>{var _props$onChange3;return(_props$onChange3=props.onChange)===null||_props$onChange3===void 0?void 0:_props$onChange3.call(props,props.fieldName,e.target.value,props.fieldType,e);},children:[/*#__PURE__*/_jsx(IconFinder,{iconName:\"Upload\"}),/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Click to Upload\"})]}),((_props$fieldProps6=props.fieldProps)===null||_props$fieldProps6===void 0?void 0:_props$fieldProps6.helperText)&&/*#__PURE__*/_jsx(FormHelperText,{sx:{color:theme.palette.error.main,marginX:\"14px\",marginTop:\"4px\"},children:(_props$fieldProps7=props.fieldProps)===null||_props$fieldProps7===void 0?void 0:_props$fieldProps7.helperText})]}),(props.fieldType===undefined||props.fieldType==='text'||props.fieldType==='number'||props.fieldType==='mobile-number')&&/*#__PURE__*/_jsx(TextField,{size:\"small\",InputProps:{...(((_props$fieldProps8=props.fieldProps)===null||_props$fieldProps8===void 0?void 0:_props$fieldProps8.type)==='password'&&{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>setEyeOpen(!isEyeOpen),sx:{color:'white'},children:/*#__PURE__*/_jsx(IconFinder,{iconName:!isEyeOpen?'OpenEye':'CloseEye',iconProps:{fill:isRestaurantView?theme.palette.common.secondaryGreyText:'white'}})})})})},...props.fieldProps,name:props.fieldName,value:props.value,onChange:e=>{var _props$onChange4;(_props$onChange4=props.onChange)===null||_props$onChange4===void 0?void 0:_props$onChange4.call(props,props.fieldName,e.target.value,props.fieldType,e);},label:\"\",type:((_props$fieldProps9=props.fieldProps)===null||_props$fieldProps9===void 0?void 0:_props$fieldProps9.type)==='password'?isEyeOpen?'text':'password':'text'}),props.addons&&props.addons]});};export default/*#__PURE__*/memo(InputField);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}