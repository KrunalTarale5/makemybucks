{"ast":null,"code":"import InputField from'@components/InputField';import{IdentityProofFormFields,UpdateSalesExecutiveContext,validateIdentityProofFields,validateIdentityProofForm}from'@hooks/admin-update-sales-executive';import{Grid,Stack}from'@mui/material';import{memo,useContext,useEffect,useState}from'react';import NavigateButtons from'../NavigateButtons';import{validateIsNumber}from'@utils/validator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const intialFormData=formData=>({aadhar_no:formData===null||formData===void 0?void 0:formData.aadhar_no,addhar_front_pic:formData===null||formData===void 0?void 0:formData.addhar_front_pic,addhar_back_pic:formData===null||formData===void 0?void 0:formData.addhar_back_pic});const intialFormError={aadhar_no:'',addhar_back_pic:'',addhar_front_pic:''};const IdentityProofForm=()=>{var _formData$aadhar_no,_IdentityProofFormFie,_formData$aadhar_no2,_IdentityProofFormFie2,_formData$aadhar_no3,_IdentityProofFormFie3;const formContext=useContext(UpdateSalesExecutiveContext);const[formData,setFormData]=useState(intialFormData(formContext.formData));const[formError,setFormError]=useState(intialFormError);useEffect(()=>{setFormData(formContext.formData);},[formContext.formData]);const onChange=(fieldName,value,fieldType,event)=>{let _formData={};if(fieldType==='number'){const isNumber=validateIsNumber(String(value));if(fieldName==='aadhar_no'&&value.length>12)return;_formData={...formData,[fieldName]:isNumber?value:formData[fieldName]};}else if(fieldType==='upload'){var _event$target;_formData={...formData,[fieldName]:event===null||event===void 0?void 0:(_event$target=event.target)===null||_event$target===void 0?void 0:_event$target.files};}else{_formData={...formData,[fieldName]:value};}setFormData(_formData);setFormError({...formError,[fieldName]:validateIdentityProofFields(fieldName,_formData)});};const handleNextClick=()=>{const validatation=validateIdentityProofForm(formData);if(validatation.hasError){setFormError(validatation.errors);return;}formContext.setFormData({...formContext.formData,...formData});formContext.setActiveStep(formContext.activeStep+1);};const handlePreviousClick=()=>{formContext.setActiveStep(formContext.activeStep-1);};return/*#__PURE__*/_jsxs(Stack,{gap:6,alignItems:'flex-start',children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,children:/*#__PURE__*/_jsxs(Grid,{item:true,container:true,xs:7,rowGap:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:2,alignItems:'self-end',children:[/*#__PURE__*/_jsx(InputField,{fieldName:'1',value:formData===null||formData===void 0?void 0:(_formData$aadhar_no=formData.aadhar_no)===null||_formData$aadhar_no===void 0?void 0:_formData$aadhar_no.substring(0,4),fieldProps:{...IdentityProofFormFields.aadhar_no,color:'secondary',fullWidth:true,id:'aadharNo-1',sx:{width:129,gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"}},error:Boolean(formError['aadhar_no'])},fieldType:(_IdentityProofFormFie=IdentityProofFormFields.aadhar_no)===null||_IdentityProofFormFie===void 0?void 0:_IdentityProofFormFie.fieldType},'1'),/*#__PURE__*/_jsx(InputField,{fieldName:'2',value:formData===null||formData===void 0?void 0:(_formData$aadhar_no2=formData.aadhar_no)===null||_formData$aadhar_no2===void 0?void 0:_formData$aadhar_no2.substring(4,8),fieldProps:{...IdentityProofFormFields.aadhar_no,color:'secondary',fullWidth:true,label:' ',required:false,id:'aadharNo-2',sx:{width:129,gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"}},error:Boolean(formError['aadhar_no'])},fieldType:(_IdentityProofFormFie2=IdentityProofFormFields.aadhar_no)===null||_IdentityProofFormFie2===void 0?void 0:_IdentityProofFormFie2.fieldType},'2'),/*#__PURE__*/_jsx(InputField,{fieldName:'3',value:formData===null||formData===void 0?void 0:(_formData$aadhar_no3=formData.aadhar_no)===null||_formData$aadhar_no3===void 0?void 0:_formData$aadhar_no3.substring(8,12),fieldProps:{...IdentityProofFormFields.aadhar_no,color:'secondary',fullWidth:true,label:' ',required:false,id:'aadharNo-3',sx:{width:129,gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"}},error:Boolean(formError['aadhar_no'])},fieldType:(_IdentityProofFormFie3=IdentityProofFormFields.aadhar_no)===null||_IdentityProofFormFie3===void 0?void 0:_IdentityProofFormFie3.fieldType},'3')]})}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,display:'inline-grid',gridTemplateColumns:\"1fr 1fr\",rowGap:3,columnGap:2,children:Object.entries(IdentityProofFormFields).map(v=>{var _ref;const fieldName=v[0];const fieldProps=v[1];return(fieldName==='addhar_front_pic'||fieldName==='addhar_back_pic')&&/*#__PURE__*/_jsx(InputField,{fieldName:fieldName,value:(_ref=formData===null||formData===void 0?void 0:formData[fieldName])!==null&&_ref!==void 0?_ref:''/* ? URL.createObjectURL(formData[fieldName][0]) : '' */,fieldProps:{...fieldProps,color:'secondary',fullWidth:true,sx:{gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"},'.uploader-container':{height:233,borderStyle:'solid',borderWidth:1,borderRadius:\"4px\"}},error:Boolean(formError[fieldName]),helperText:formError[fieldName]},fieldType:fieldProps.fieldType,onChange:onChange},fieldName);})})})]})}),/*#__PURE__*/_jsx(NavigateButtons,{onNextClick:handleNextClick,onPreviousClick:handlePreviousClick})]});};export default/*#__PURE__*/memo(IdentityProofForm);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}