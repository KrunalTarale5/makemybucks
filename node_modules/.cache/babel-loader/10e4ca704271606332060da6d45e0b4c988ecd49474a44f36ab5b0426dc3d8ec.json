{"ast":null,"code":"import InputField from'@components/InputField';import{PoppinsTypography}from'@components/Typography';import{QrCodeFields,useReceiveQRApi,validateQrCodeForm}from'@hooks/admin-qrcode';import{LoadingButton}from'@mui/lab';import{Stack,useTheme}from'@mui/material';import{memo,useState}from'react';import{useSnackbar}from'@components/Snackbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const intialFormData={number:''};const intialFormError={number:''};const QrPlacard=props=>{const theme=useTheme();const{showSnackbar,hideSnackbar}=useSnackbar();const ReceiveQRApi=useReceiveQRApi();const[formData,setFormData]=useState(intialFormData);const[formError,setFormError]=useState(intialFormError);const onChange=(fieldName,value)=>{const _formData={...formData,[fieldName]:value};setFormData(_formData);setFormError({...formError,[fieldName]:QrCodeFields(fieldName,_formData)});};const handleClick=()=>{const validatation=validateQrCodeForm(formData);if(validatation.hasError){setFormError(validatation.errors);return;}ReceiveQRApi.mutateAsync({request:{number:formData.number}}).then(response=>{var _response$data;setFormData(intialFormData);showSnackbar({title:'Success!',variant:'sucess',content:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message,onCancel:()=>hideSnackbar()});props.refetch();}).catch(error=>{var _error$response,_error$response$data;showSnackbar({title:'Error!',variant:'error',content:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message,onCancel:()=>hideSnackbar()});});};return/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Enter Number\"}),/*#__PURE__*/_jsxs(Stack,{gap:8,children:[/*#__PURE__*/_jsx(InputField,{showLabel:false,fieldName:'number',value:formData.number,fieldProps:{placeholder:'Type the number of qr received',size:'medium',error:Boolean(formError['number']),helperText:formError['number'],sx:{'& .MuiOutlinedInput-notchedOutline':{borderColor:theme.palette.common.secondaryGreyText,borderRadius:\"8px\",minWidth:\"114px\"},'& .MuiInputBase-input':{height:11},'& .MuiInputBase-root':{width:'30%'}}},onChange:onChange}),/*#__PURE__*/_jsx(LoadingButton,{size:\"large\",variant:\"contained\",color:\"primary\",sx:{width:209,height:51,borderRadius:'8px'},onClick:handleClick,disabled:formData===intialFormData,loading:ReceiveQRApi.isLoading,children:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",children:\"Accept\"})})]})]});};export default/*#__PURE__*/memo(QrPlacard);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}