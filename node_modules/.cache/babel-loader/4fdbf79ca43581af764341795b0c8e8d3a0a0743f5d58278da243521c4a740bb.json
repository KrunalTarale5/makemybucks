{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-unsafe-argument */ /* eslint-disable @typescript-eslint/no-unsafe-return */import DetailsTable from'@components/DetailsTable';import{AcceptRejectDocumentsDialog}from'@components/DocumentAcceptReject';import{BottomOpenDetailsDrawer}from'@components/Drawers';import IconFinder from'@components/Icon';import Table from'@components/Table';import{PoppinsTypography}from'@components/Typography';import Uploader from'@components/Uploader';import{useGetUserDetailsApi}from'@hooks/admin-user-management';import{IconButton,Stack,useTheme}from'@mui/material';import moment from'moment';import{memo,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UsersDetails=props=>{var _GetUserDetailApi$dat,_GetUserDetailApi$dat2,_GetUserDetailApi$dat3,_details$user_profile,_details$name$split$,_details$name,_details$name$split$2,_details$name$split$3,_details$name2,_details$name2$split$;const theme=useTheme();const GetUserDetailApi=useGetUserDetailsApi(props.selectedId);const details=(_GetUserDetailApi$dat=GetUserDetailApi.data)===null||_GetUserDetailApi$dat===void 0?void 0:_GetUserDetailApi$dat.data.data;const[viewInfo,setViewInfo]=useState(null);const rows=(_GetUserDetailApi$dat2=(_GetUserDetailApi$dat3=GetUserDetailApi.data)===null||_GetUserDetailApi$dat3===void 0?void 0:_GetUserDetailApi$dat3.data.data.transaction_details)!==null&&_GetUserDetailApi$dat2!==void 0?_GetUserDetailApi$dat2:[];const columns=[{field:'id',renderHeader:()=>'Sl No.',renderCell:_ref=>{let{rowNumber}=_ref;return rowNumber+1;},tableCellProps:{sx:{minWidth:200}}},{field:'Restaurant',renderHeader:()=>\"Restaurant\",renderCell:_ref2=>{let{row}=_ref2;return row.restaurant_name;}},{field:'Date',renderHeader:()=>'Date',renderCell:_ref3=>{let{row}=_ref3;return moment(row.date).utc().format('DD MMM yyyy');}//renderCell: ({ row }) => row.date ?? '',\n//moment([row.Date]).format('DD MMM YY')\n},{field:'Time',renderHeader:()=>\"Time\",renderCell:_ref4=>{let{row}=_ref4;return moment(\"\".concat(row.time)).utc().format('h:mm A');}//renderCell: ({ row }) => row.time ?? '',\n},{field:'Amount Paid',renderHeader:()=>\"Amount Paid \\u27E8\\u20B9\\u27E9\",renderCell:_ref5=>{let{row}=_ref5;return row.transaction_amount;}},{field:'Offer (%)',renderHeader:()=>\"Offer (%)\",renderCell:_ref6=>{let{row}=_ref6;return row.offer;}},{field:'UTR',renderHeader:()=>\"UTR\",renderCell:_ref7=>{let{row}=_ref7;return row.utr;}},{field:'Payment',renderHeader:()=>\"Payment\",renderCell:_ref8=>{var _row$payment_status;let{row}=_ref8;return(_row$payment_status=row.payment_status)!==null&&_row$payment_status!==void 0?_row$payment_status:\"--\";}}];return/*#__PURE__*/_jsxs(BottomOpenDetailsDrawer,{open:Boolean(props.selectedId),onClose:props.onClose,children:[/*#__PURE__*/_jsxs(Stack,{gap:2,flexGrow:1,children:[/*#__PURE__*/_jsxs(Stack,{gap:5,flexDirection:'row',children:[/*#__PURE__*/_jsxs(Stack,{gap:1,children:[/*#__PURE__*/_jsx(Uploader,{fieldName:\"fieldName\",sx:{placeContent:'flex-end',width:104,height:104,backgroundColor:'#C1BFEA',borderRadius:\"4px\"},file:(_details$user_profile=details===null||details===void 0?void 0:details.user_profile_img)!==null&&_details$user_profile!==void 0?_details$user_profile:'',children:/*#__PURE__*/_jsx(PoppinsTypography,{flex:'auto',alignSelf:'center',textAlign:'center',variant:\"h3\",fontWeight:600,children:\"\".concat((_details$name$split$=details===null||details===void 0?void 0:(_details$name=details.name)===null||_details$name===void 0?void 0:(_details$name$split$2=_details$name.split(' ')[0])===null||_details$name$split$2===void 0?void 0:_details$name$split$2.charAt(0))!==null&&_details$name$split$!==void 0?_details$name$split$:'',\" \").concat((_details$name$split$3=details===null||details===void 0?void 0:(_details$name2=details.name)===null||_details$name2===void 0?void 0:(_details$name2$split$=_details$name2.split(' ')[1])===null||_details$name2$split$===void 0?void 0:_details$name2$split$.charAt(0))!==null&&_details$name$split$3!==void 0?_details$name$split$3:'')})}),/*#__PURE__*/_jsxs(Stack,{gap:1,flexDirection:'row',alignItems:'center',justifyContent:'center',children:[/*#__PURE__*/_jsx(IconFinder,{iconName:\"Dot\",iconProps:{fill:(details===null||details===void 0?void 0:details.block_status)==='0'?theme.palette.success.main:theme.palette.error.main}}),/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:details===null||details===void 0?void 0:details.user_ref_id})]})]}),/*#__PURE__*/_jsxs(Stack,{gap:\"15%\",flexDirection:'row',children:[/*#__PURE__*/_jsx(Stack,{sx:{'& table':{borderCollapse:'separate',borderSpacing:\"0 4px\"},'& td':{minWidth:\"150px\"},'& tr':{verticalAlign:'top'},'& .tdValue':{paddingLeft:4}},children:/*#__PURE__*/_jsx(DetailsTable,{data:[{name:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Name:\"}),value:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText},fontWeight:600,children:details===null||details===void 0?void 0:details.name}),showWhen:true},{name:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Mobile No. :\"}),value:/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:1,alignItems:'center',children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText},children:details===null||details===void 0?void 0:details.phone_no}),(details===null||details===void 0?void 0:details.phone_no)&&/*#__PURE__*/_jsx(IconButton,{onClick:()=>{var _details$phone_no;return void window.navigator.clipboard.writeText((_details$phone_no=details===null||details===void 0?void 0:details.phone_no)!==null&&_details$phone_no!==void 0?_details$phone_no:'');},children:/*#__PURE__*/_jsx(IconFinder,{iconName:\"Copy\"})})]}),showWhen:true},{name:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Email ID :\"}),value:/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:1,alignItems:'center',children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText},children:details===null||details===void 0?void 0:details.email}),(details===null||details===void 0?void 0:details.email)&&/*#__PURE__*/_jsx(IconButton,{onClick:()=>{var _details$email;return void window.navigator.clipboard.writeText((_details$email=details===null||details===void 0?void 0:details.email)!==null&&_details$email!==void 0?_details$email:'');},children:/*#__PURE__*/_jsx(IconFinder,{iconName:\"Copy\"})})]}),showWhen:true}]})}),/*#__PURE__*/_jsx(Stack,{sx:{'& table':{borderCollapse:'separate',borderSpacing:\"0 4px\"},'& td':{minWidth:\"150px\"},'& tr':{verticalAlign:'top'},'& .tdValue':{paddingLeft:10}},children:/*#__PURE__*/_jsx(DetailsTable,{data:[{name:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"DOB :\"}),value:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText},children:(details===null||details===void 0?void 0:details.user_dob)===''?'NA':moment(details===null||details===void 0?void 0:details.user_dob).format('DD MMM YYYY')}),showWhen:true},{name:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"KYC:\"}),value:/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:1,alignItems:'center',children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:'#0062FF',cursor:'pointer','&:hover':{textDecoration:'underline'}},onClick:()=>{var _details$document_img,_details$document_typ;setViewInfo({render:/*#__PURE__*/_jsx(Uploader,{fieldName:\"document_img\",file:(_details$document_img=details===null||details===void 0?void 0:details.document_img)!==null&&_details$document_img!==void 0?_details$document_img:''}),heading:\"\".concat((_details$document_typ=details===null||details===void 0?void 0:details.document_type)!==null&&_details$document_typ!==void 0?_details$document_typ:'',\" Details\"),type:details===null||details===void 0?void 0:details.document_type});},children:details===null||details===void 0?void 0:details.document_type}),(details===null||details===void 0?void 0:details.KYC_Approval_status)==='Verified'&&/*#__PURE__*/_jsx(IconFinder,{iconName:\"Checked\",iconProps:{fill:theme.palette.success.main,height:12,width:12}})]}),showWhen:true},{name:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Bank Details:\"}),value:/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:1,alignItems:'center',children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText}//onClick={onDocumentClick}\n,children:\"NA\"}),/*#__PURE__*/_jsx(IconFinder,{iconName:\"Checked\",iconProps:{fill:theme.palette.common.secondaryGreyText,height:12,width:12}})]}),showWhen:true}]})}),/*#__PURE__*/_jsx(Stack,{sx:{'& table':{borderCollapse:'separate',borderSpacing:\"0 4px\"},'& td':{minWidth:\"150px\"},'& tr':{verticalAlign:'top'},'& .tdValue':{paddingLeft:10}},children:/*#__PURE__*/_jsx(DetailsTable,{data:[{name:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Total Transaction:\"}),value:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText},children:details===null||details===void 0?void 0:details.total_transaction_amount}),showWhen:true},{name:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Payback \\u27E8\\u20B9\\u27E9:\"}),value:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText},children:details===null||details===void 0?void 0:details.payback}),showWhen:true},{name:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Endowment  \\u27E8\\u20B9\\u27E9:\"}),value:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText},children:details===null||details===void 0?void 0:details.repository}),showWhen:true}]})})]})]}),/*#__PURE__*/_jsxs(Stack,{gap:1,flexGrow:1,children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Transaction History\"}),/*#__PURE__*/_jsx(Stack,{flexGrow:1,children:/*#__PURE__*/_jsx(Table,{rows:rows,columns:columns,rowId:row=>row.slNo,tableProps:{size:'small',stickyHeader:false},tableRowProps:{hover:true},loading:GetUserDetailApi.isLoading})})]})]}),/*#__PURE__*/_jsx(AcceptRejectDocumentsDialog,{useApi:\"user\",id:String(details===null||details===void 0?void 0:details.user_id),render:viewInfo===null||viewInfo===void 0?void 0:viewInfo.render,heading:viewInfo===null||viewInfo===void 0?void 0:viewInfo.heading,type:viewInfo===null||viewInfo===void 0?void 0:viewInfo.type,handleClose:()=>setViewInfo(null),refetch:()=>{void GetUserDetailApi.refetch();props.refetch();}})]});};export default/*#__PURE__*/memo(UsersDetails);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}