{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$();\nimport { validateForm } from '@utils/validateUtils';\nimport { validateQrCode, validateSelectExecutiveCode } from '@utils/validator';\nimport axios from 'axios';\nimport { useMutation, useQuery } from 'react-query';\n\n// export type QrCodeRequest = { qrreceived: string };\n\nexport const QrCodeFields = (fieldName, formData) => {\n  switch (fieldName) {\n    case 'number':\n      return validateQrCode(formData[fieldName]);\n    default:\n      return '';\n  }\n};\n_c = QrCodeFields;\nexport const validateQrCodeForm = formData => validateForm(formData, QrCodeFields);\nexport const HandoverQrFields = (fieldName, formData) => {\n  switch (fieldName) {\n    case 'sub_admin_id':\n      return validateSelectExecutiveCode(formData[fieldName]);\n    default:\n      return '';\n  }\n};\n_c2 = HandoverQrFields;\nexport const validateHandoverQrForm = formData => validateForm(formData, HandoverQrFields);\nexport const useGetQrCodeHistoryApi = request => {\n  _s();\n  return useQuery(['get_qr_history', request], () => axios({\n    method: 'GET',\n    url: `/get_qr_history/`,\n    params: request\n  }));\n};\n_s(useGetQrCodeHistoryApi, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useGetQrCodeCountApi = () => {\n  _s2();\n  return useQuery(['QR_dashboard_count'], () => axios({\n    method: 'GET',\n    url: `/QR_dashboard_count/`\n  }));\n};\n_s2(useGetQrCodeCountApi, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useGeneraeteQRApi = () => {\n  _s3();\n  return useMutation(info => axios({\n    method: 'POST',\n    url: `/generate_qr/`,\n    data: info.request\n  }));\n};\n_s3(useGeneraeteQRApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const useUpdateQRBgApi = () => {\n  _s4();\n  return useMutation(info => {\n    const formData = new FormData();\n    if (info.request.bg_url_1 && typeof info.request.bg_url_1 !== 'string') formData.append('bg_url_1', info.request.bg_url_1[0], info.request.bg_url_1[0].name);\n    if (info.request.bg_url_2 && typeof info.request.bg_url_2 !== 'string') formData.append('bg_url_2', info.request.bg_url_2[0], info.request.bg_url_2[0].name);\n    if (info.request.bg_url_3 && typeof info.request.bg_url_3 !== 'string') formData.append('bg_url_3', info.request.bg_url_3[0], info.request.bg_url_3[0].name);\n    return axios({\n      method: 'POST',\n      url: `/add_update_bg_img/`,\n      data: formData\n    });\n  });\n};\n_s4(useUpdateQRBgApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const useGetQRBgUrlsApi = () => {\n  _s5();\n  return useQuery(['get_qr_bg'], () => axios({\n    method: 'GET',\n    url: `/get_qr_bg/`\n  }));\n};\n_s5(useGetQRBgUrlsApi, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useDownloadQRApi = () => {\n  _s6();\n  return useMutation(info => axios({\n    method: 'POST',\n    url: `/download_qr/`,\n    data: info.request\n  }));\n};\n_s6(useDownloadQRApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const useHandoverQrApi = () => {\n  _s7();\n  return useMutation(info => axios({\n    method: 'POST',\n    url: `/handover_qr/`,\n    data: info.request\n  }));\n};\n_s7(useHandoverQrApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const useGetSelectExecutiveListApi = () => {\n  _s8();\n  return useQuery(['get_subadmin_name'], () => axios({\n    method: 'GET',\n    url: `/get_subadmin_name/`\n  }));\n};\n_s8(useGetSelectExecutiveListApi, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport const useReceiveQRApi = () => {\n  _s9();\n  return useMutation(info => axios({\n    method: 'POST',\n    url: `/receive_qr/`,\n    data: info.request\n  }));\n};\n_s9(useReceiveQRApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nvar _c, _c2;\n$RefreshReg$(_c, \"QrCodeFields\");\n$RefreshReg$(_c2, \"HandoverQrFields\");","map":{"version":3,"names":["validateForm","validateQrCode","validateSelectExecutiveCode","axios","useMutation","useQuery","QrCodeFields","fieldName","formData","_c","validateQrCodeForm","HandoverQrFields","_c2","validateHandoverQrForm","useGetQrCodeHistoryApi","request","_s","method","url","params","useGetQrCodeCountApi","_s2","useGeneraeteQRApi","_s3","info","data","useUpdateQRBgApi","_s4","FormData","bg_url_1","append","name","bg_url_2","bg_url_3","useGetQRBgUrlsApi","_s5","useDownloadQRApi","_s6","useHandoverQrApi","_s7","useGetSelectExecutiveListApi","_s8","useReceiveQRApi","_s9","$RefreshReg$"],"sources":["D:/Krunal/makemybucks/src/@hooks/admin-qrcode.ts"],"sourcesContent":["import {\r\n\tFormError,\r\n\tOption,\r\n\tPageRequest,\r\n\tPaginationResponse,\r\n\tSortRequest,\r\n} from '@interfaces/common';\r\nimport { validateForm } from '@utils/validateUtils';\r\nimport { validateQrCode, validateSelectExecutiveCode } from '@utils/validator';\r\nimport axios from 'axios';\r\nimport { useMutation, useQuery } from 'react-query';\r\n\r\n// export type QrCodeRequest = { qrreceived: string };\r\nexport type QrCodeRequest = { number: number | string };\r\n\r\nexport const QrCodeFields = (fieldName: keyof QrCodeRequest, formData: QrCodeRequest): string => {\r\n\tswitch (fieldName) {\r\n\t\tcase 'number':\r\n\t\t\treturn validateQrCode(formData[fieldName] as string);\r\n\r\n\t\tdefault:\r\n\t\t\treturn '';\r\n\t}\r\n};\r\nexport const validateQrCodeForm = (formData: QrCodeRequest): FormError<QrCodeRequest> =>\r\n\tvalidateForm(formData, QrCodeFields);\r\n\r\nexport type HandoverQrRequest = {\r\n\tnumber: number | string;\r\n\tsub_admin_id: string | Option;\r\n};\r\n\r\nexport const HandoverQrFields = (\r\n\tfieldName: keyof HandoverQrRequest,\r\n\tformData: HandoverQrRequest\r\n): string => {\r\n\tswitch (fieldName) {\r\n\t\tcase 'sub_admin_id':\r\n\t\t\treturn validateSelectExecutiveCode(formData[fieldName] as string);\r\n\r\n\t\tdefault:\r\n\t\t\treturn '';\r\n\t}\r\n};\r\nexport const validateHandoverQrForm = (\r\n\tformData: HandoverQrRequest\r\n): FormError<Partial<HandoverQrRequest>> => validateForm(formData, HandoverQrFields);\r\n\r\nexport type QrCodeHistoryResponse = {\r\n\thistory_id: string;\r\n\taction: string;\r\n\tby_or_to_id: string;\r\n\tqr_number: string;\r\n\tadded_datetime: string;\r\n};\r\n\r\nexport const useGetQrCodeHistoryApi = (\r\n\trequest: PageRequest & SortRequest & { search?: string }\r\n) => {\r\n\treturn useQuery(['get_qr_history', request], () =>\r\n\t\taxios<PaginationResponse<QrCodeHistoryResponse>>({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `/get_qr_history/`,\r\n\t\t\tparams: request,\r\n\t\t})\r\n\t);\r\n};\r\n\r\nexport type QrCodeCountResponse = {\r\n\tdata: {\r\n\t\ttotal_qr_generated_count: number;\r\n\r\n\t\tavailable_qr_count: number;\r\n\t\tdownload_qr_count: number;\r\n\t\tactive_qr_count: number;\r\n\t\tavailable_for_handover_count: number;\r\n\t\tdisabled_qr_count: number;\r\n\t};\r\n};\r\n\r\nexport const useGetQrCodeCountApi = () => {\r\n\treturn useQuery(['QR_dashboard_count'], () =>\r\n\t\taxios<QrCodeCountResponse>({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `/QR_dashboard_count/`,\r\n\t\t})\r\n\t);\r\n};\r\n\r\nexport const useGeneraeteQRApi = () =>\r\n\tuseMutation(\r\n\t\t(info: {\r\n\t\t\trequest: {\r\n\t\t\t\tnumber: number;\r\n\t\t\t};\r\n\t\t}) =>\r\n\t\t\taxios({\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\turl: `/generate_qr/`,\r\n\t\t\t\tdata: info.request,\r\n\t\t\t})\r\n\t);\r\n\r\nexport const useUpdateQRBgApi = () =>\r\n\tuseMutation(\r\n\t\t(info: {\r\n\t\t\trequest: Partial<{\r\n\t\t\t\tbg_url_1: FileList;\r\n\t\t\t\tbg_url_2: FileList;\r\n\t\t\t\tbg_url_3: FileList;\r\n\t\t\t}>;\r\n\t\t}) => {\r\n\t\t\tconst formData = new FormData();\r\n\r\n\t\t\tif (info.request.bg_url_1 && typeof info.request.bg_url_1 !== 'string')\r\n\t\t\t\tformData.append('bg_url_1', info.request.bg_url_1[0], info.request.bg_url_1[0].name);\r\n\t\t\tif (info.request.bg_url_2 && typeof info.request.bg_url_2 !== 'string')\r\n\t\t\t\tformData.append('bg_url_2', info.request.bg_url_2[0], info.request.bg_url_2[0].name);\r\n\t\t\tif (info.request.bg_url_3 && typeof info.request.bg_url_3 !== 'string')\r\n\t\t\t\tformData.append('bg_url_3', info.request.bg_url_3[0], info.request.bg_url_3[0].name);\r\n\r\n\t\t\treturn axios({\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\turl: `/add_update_bg_img/`,\r\n\t\t\t\tdata: formData,\r\n\t\t\t});\r\n\t\t}\r\n\t);\r\n\r\nexport const useGetQRBgUrlsApi = () => {\r\n\treturn useQuery(['get_qr_bg'], () =>\r\n\t\taxios<{ bg_urls: string[] }>({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `/get_qr_bg/`,\r\n\t\t})\r\n\t);\r\n};\r\n\r\nexport const useDownloadQRApi = () =>\r\n\tuseMutation((info: { request: { number: number } }) =>\r\n\t\taxios<{\r\n\t\t\tdownload_list: {\r\n\t\t\t\tqr_id: string;\r\n\t\t\t\tqr_status: string;\r\n\t\t\t}[];\r\n\t\t}>({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `/download_qr/`,\r\n\t\t\tdata: info.request,\r\n\t\t})\r\n\t);\r\n\r\nexport const useHandoverQrApi = () =>\r\n\tuseMutation((info: { request: HandoverQrRequest }) =>\r\n\t\taxios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `/handover_qr/`,\r\n\t\t\tdata: info.request,\r\n\t\t})\r\n\t);\r\n\r\nexport type SelectExecutiveListResponse = {\r\n\t//restaurant_list: Option[];\r\n\tsubadmins_list: Option[];\r\n};\r\nexport const useGetSelectExecutiveListApi = () => {\r\n\treturn useQuery(['get_subadmin_name'], () =>\r\n\t\taxios<SelectExecutiveListResponse>({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `/get_subadmin_name/`,\r\n\t\t})\r\n\t);\r\n};\r\n\r\nexport const useReceiveQRApi = () =>\r\n\tuseMutation(\r\n\t\t(info: {\r\n\t\t\trequest: {\r\n\t\t\t\tnumber: number;\r\n\t\t\t};\r\n\t\t}) =>\r\n\t\t\taxios({\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\turl: `/receive_qr/`,\r\n\t\t\t\tdata: info.request,\r\n\t\t\t})\r\n\t);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}