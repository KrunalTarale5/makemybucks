{"ast":null,"code":"import{AdminCards}from'@components/Cards';import{YearPicker}from'@components/DatePicker';import IconFinder from'@components/Icon';import{InterTypography}from'@components/Typography';import{BannerInformation,useBannerInfo}from'@hooks/admin-banner-info';import{useGetDashboardCountApi,useGetTotalRestaurentCoordApi,useGetTotalTransactionCoordApi,useGetTotalUserCoordApi}from'@hooks/admin-dashboard';import{Chip,Stack,useTheme}from'@mui/material';import{getMaxTickAmount}from'@utils/common';import moment from'moment';import{memo,useState}from'react';// eslint-disable-next-line import/default\nimport Chart from'react-apexcharts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const REPORT_TYPE=['Daily','Monthly','Quarterly'];const Dashboard=()=>{var _restaurantReport$dat,_restaurantReport$dat2,_userReport$date,_userReport$date2,_transationReport$dat,_GetDashboardCountApi,_GetDashboardCountApi2,_GetDashboardCountApi3,_GetDashboardCountApi4,_GetDashboardCountApi5,_GetDashboardCountApi6,_GetDashboardCountApi7,_GetDashboardCountApi8,_GetDashboardCountApi9,_GetDashboardCountApi10,_GetDashboardCountApi11,_GetDashboardCountApi12,_GetDashboardCountApi13,_GetDashboardCountApi14,_GetDashboardCountApi15,_GetDashboardCountApi16,_GetTotalTransactionC,_GetTotalTransactionC2,_GetTotalTransactionC3,_GetTotalTransactionC4,_GetTotalTransactionC5,_GetTotalTransactionC6,_GetTotalTransactionC7,_GetTotalTransactionC8,_GetTotalTransactionC9,_GetTotalUserCoordApi,_GetTotalUserCoordApi2,_GetTotalUserCoordApi3,_GetTotalUserCoordApi4,_GetTotalUserCoordApi5,_GetTotalUserCoordApi6,_GetTotalUserCoordApi7,_GetTotalUserCoordApi8,_GetTotalUserCoordApi9,_GetTotalRestaurentCo,_GetTotalRestaurentCo2,_GetTotalRestaurentCo3,_GetTotalRestaurentCo4,_GetTotalRestaurentCo5,_GetTotalRestaurentCo6,_GetTotalRestaurentCo7,_GetTotalRestaurentCo8,_GetTotalRestaurentCo9;useBannerInfo(BannerInformation.dashboard);const theme=useTheme();const[anchorEl,handleAnchorEl]=useState(null);const[transationReport,setTransationReport]=useState({date:moment(),type:'Daily'});const[userReport,setUserReport]=useState({date:moment(),type:'Daily'});const[restaurantReport,setRestaurantReport]=useState({date:moment(),type:'Daily'});const GetDashboardCountApi=useGetDashboardCountApi();const GetTotalRestaurentCoordApi=useGetTotalRestaurentCoordApi({filter:restaurantReport.type.toLowerCase(),calendar:'year',year:(_restaurantReport$dat=restaurantReport.date)===null||_restaurantReport$dat===void 0?void 0:_restaurantReport$dat.get('year').toString(),month:(_restaurantReport$dat2=restaurantReport.date)===null||_restaurantReport$dat2===void 0?void 0:_restaurantReport$dat2.format('MMMM')});const GetTotalUserCoordApi=useGetTotalUserCoordApi({filter:userReport.type.toLowerCase(),calendar:'year',year:(_userReport$date=userReport.date)===null||_userReport$date===void 0?void 0:_userReport$date.get('year').toString(),month:(_userReport$date2=userReport.date)===null||_userReport$date2===void 0?void 0:_userReport$date2.format('MMMM')});const GetTotalTransactionCoordApi=useGetTotalTransactionCoordApi({filter:transationReport.type.toLowerCase(),calendar:'year',year:(_transationReport$dat=transationReport.date)===null||_transationReport$dat===void 0?void 0:_transationReport$dat.get('year').toString()});return/*#__PURE__*/_jsxs(Stack,{gap:2,flexGrow:'inherit',children:[/*#__PURE__*/_jsxs(Stack,{gap:1,children:[/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:12,children:[/*#__PURE__*/_jsxs(Stack,{gap:2,flexDirection:'row',children:[/*#__PURE__*/_jsx(AdminCards,{heading:\"Total Investment\",content:\"\\u20B9\".concat((_GetDashboardCountApi=(_GetDashboardCountApi2=GetDashboardCountApi.data)===null||_GetDashboardCountApi2===void 0?void 0:_GetDashboardCountApi2.data.data.total_investment)!==null&&_GetDashboardCountApi!==void 0?_GetDashboardCountApi:'NA')}),/*#__PURE__*/_jsx(AdminCards,{heading:\"Total Profit\",content:\"\\u20B9\".concat((_GetDashboardCountApi3=(_GetDashboardCountApi4=GetDashboardCountApi.data)===null||_GetDashboardCountApi4===void 0?void 0:_GetDashboardCountApi4.data.data.total_profit)!==null&&_GetDashboardCountApi3!==void 0?_GetDashboardCountApi3:'NA')})]}),/*#__PURE__*/_jsxs(Stack,{gap:2,flexDirection:'row',children:[/*#__PURE__*/_jsx(AdminCards,{heading:\"Total Revenue\",content:\"\\u20B9\".concat((_GetDashboardCountApi5=(_GetDashboardCountApi6=GetDashboardCountApi.data)===null||_GetDashboardCountApi6===void 0?void 0:_GetDashboardCountApi6.data.data.total_revenue)!==null&&_GetDashboardCountApi5!==void 0?_GetDashboardCountApi5:'NA')}),/*#__PURE__*/_jsx(AdminCards,{heading:\"Today\\u2019s Revenue\",content:\"\\u20B9\".concat((_GetDashboardCountApi7=(_GetDashboardCountApi8=GetDashboardCountApi.data)===null||_GetDashboardCountApi8===void 0?void 0:_GetDashboardCountApi8.data.data.todays_revenue_count)!==null&&_GetDashboardCountApi7!==void 0?_GetDashboardCountApi7:'NA')})]}),/*#__PURE__*/_jsxs(Stack,{gap:2,flexDirection:'row',children:[/*#__PURE__*/_jsx(AdminCards,{heading:\"Total Restaurants\",content:(_GetDashboardCountApi9=(_GetDashboardCountApi10=GetDashboardCountApi.data)===null||_GetDashboardCountApi10===void 0?void 0:_GetDashboardCountApi10.data.data.added_restaurant_count)!==null&&_GetDashboardCountApi9!==void 0?_GetDashboardCountApi9:\"NA\"}),/*#__PURE__*/_jsx(AdminCards,{heading:\"Active Restaurant\",content:(_GetDashboardCountApi11=(_GetDashboardCountApi12=GetDashboardCountApi.data)===null||_GetDashboardCountApi12===void 0?void 0:_GetDashboardCountApi12.data.data.active_restaurant_count)!==null&&_GetDashboardCountApi11!==void 0?_GetDashboardCountApi11:\"NA\"})]})]}),/*#__PURE__*/_jsx(Stack,{flexDirection:'row',gap:12,children:/*#__PURE__*/_jsxs(Stack,{gap:2,flexDirection:'row',children:[/*#__PURE__*/_jsx(AdminCards,{heading:\"Total Users\",content:(_GetDashboardCountApi13=(_GetDashboardCountApi14=GetDashboardCountApi.data)===null||_GetDashboardCountApi14===void 0?void 0:_GetDashboardCountApi14.data.data.total_users)!==null&&_GetDashboardCountApi13!==void 0?_GetDashboardCountApi13:\"NA\"}),/*#__PURE__*/_jsx(AdminCards,{heading:\"New Users - \".concat(moment(new Date()).format('MMM'),\" \").concat(moment(new Date()).format('YY')),content:(_GetDashboardCountApi15=(_GetDashboardCountApi16=GetDashboardCountApi.data)===null||_GetDashboardCountApi16===void 0?void 0:_GetDashboardCountApi16.data.data.new_users)!==null&&_GetDashboardCountApi15!==void 0?_GetDashboardCountApi15:\"NA\"})]})})]}),/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:8,children:[/*#__PURE__*/_jsxs(Stack,{boxShadow:'0px 2px 8px 0px #00000026',padding:1.3,flexBasis:\"33%\",gap:2,children:[/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',justifyContent:'space-between',children:[/*#__PURE__*/_jsx(InterTypography,{fontWeight:600,variant:\"subtitle1\",children:\"Total Transactions\"}),/*#__PURE__*/_jsxs(Stack,{gap:1,flexDirection:'row',children:[REPORT_TYPE.filter(f=>f==='Monthly'||f==='Daily').map(r=>/*#__PURE__*/_jsx(Chip,{size:\"small\",label:r,sx:{fontSize:7,backgroundColor:transationReport.type===r?'#E7EBFE':'transparent'},onClick:()=>setTransationReport({...transationReport,type:r})},r)),/*#__PURE__*/_jsx(YearPicker,{onRightClick:()=>setTransationReport({...transationReport,date:moment(transationReport.date).add(1,'year')}),onLeftClick:()=>setTransationReport({...transationReport,date:moment(transationReport.date).subtract(1,'year')}),onCalenderClick:e=>handleAnchorEl({element:e.currentTarget,box:1}),onChange:value=>{setTransationReport({...transationReport,date:value});handleAnchorEl(null);},show:Boolean(anchorEl)&&(anchorEl===null||anchorEl===void 0?void 0:anchorEl.box)===1,handleClose:()=>handleAnchorEl(null),anchorEl:anchorEl===null||anchorEl===void 0?void 0:anchorEl.element,date:transationReport.date}),/*#__PURE__*/_jsx(IconFinder,{iconName:\"MoreVertical\",iconProps:{height:24,fill:'black'}})]})]}),/*#__PURE__*/_jsx(Chart,{options:{chart:{zoom:{enabled:false}},dataLabels:{enabled:false},xaxis:{categories:(_GetTotalTransactionC=(_GetTotalTransactionC2=GetTotalTransactionCoordApi.data)===null||_GetTotalTransactionC2===void 0?void 0:(_GetTotalTransactionC3=_GetTotalTransactionC2.data.data)===null||_GetTotalTransactionC3===void 0?void 0:_GetTotalTransactionC3.x_axis)!==null&&_GetTotalTransactionC!==void 0?_GetTotalTransactionC:[]},yaxis:{labels:{formatter:value=>value===null||value===void 0?void 0:value.toFixed(0)},tickAmount:getMaxTickAmount((_GetTotalTransactionC4=(_GetTotalTransactionC5=GetTotalTransactionCoordApi.data)===null||_GetTotalTransactionC5===void 0?void 0:(_GetTotalTransactionC6=_GetTotalTransactionC5.data.data)===null||_GetTotalTransactionC6===void 0?void 0:_GetTotalTransactionC6.y_axis)!==null&&_GetTotalTransactionC4!==void 0?_GetTotalTransactionC4:[])},tooltip:{enabled:true},colors:[theme.palette.primary.main]},series:[{name:'Total Transactions',data:(_GetTotalTransactionC7=(_GetTotalTransactionC8=GetTotalTransactionCoordApi.data)===null||_GetTotalTransactionC8===void 0?void 0:(_GetTotalTransactionC9=_GetTotalTransactionC8.data.data)===null||_GetTotalTransactionC9===void 0?void 0:_GetTotalTransactionC9.y_axis)!==null&&_GetTotalTransactionC7!==void 0?_GetTotalTransactionC7:[]}],type:\"area\",height:365})]}),/*#__PURE__*/_jsx(Stack,{boxShadow:'0px 2px 8px 0px #00000026',padding:1.3,flexBasis:\"33%\",children:/*#__PURE__*/_jsxs(Stack,{gap:2,children:[/*#__PURE__*/_jsxs(Stack,{justifyContent:'space-between',flexDirection:'row',children:[/*#__PURE__*/_jsx(InterTypography,{fontWeight:600,variant:\"subtitle1\",children:\"Total Users\"}),/*#__PURE__*/_jsx(IconFinder,{iconName:\"MoreVertical\",iconProps:{height:24,fill:'black'}})]}),/*#__PURE__*/_jsxs(Stack,{justifyContent:'space-between',flexDirection:'row',children:[/*#__PURE__*/_jsx(Stack,{gap:1,flexDirection:'row',children:REPORT_TYPE.map(c=>/*#__PURE__*/_jsx(Chip,{size:\"medium\",label:c,sx:{fontSize:10,height:27,backgroundColor:userReport.type===c?'#E7EBFE':'transparent'},onClick:()=>setUserReport({...userReport,type:c})},c))}),/*#__PURE__*/_jsx(YearPicker,{onRightClick:()=>setUserReport({...userReport,date:moment(userReport.date).add(1,'year')}),onLeftClick:()=>setUserReport({...userReport,date:moment(userReport.date).subtract(1,'year')}),onCalenderClick:e=>handleAnchorEl({element:e.currentTarget,box:2}),onChange:value=>{setUserReport({...userReport,date:value});handleAnchorEl(null);},show:Boolean(anchorEl)&&(anchorEl===null||anchorEl===void 0?void 0:anchorEl.box)===2,handleClose:()=>handleAnchorEl(null),anchorEl:anchorEl===null||anchorEl===void 0?void 0:anchorEl.element,date:userReport.date})]}),/*#__PURE__*/_jsx(Chart,{options:{chart:{zoom:{enabled:false}},dataLabels:{enabled:false},xaxis:{categories:(_GetTotalUserCoordApi=(_GetTotalUserCoordApi2=GetTotalUserCoordApi.data)===null||_GetTotalUserCoordApi2===void 0?void 0:(_GetTotalUserCoordApi3=_GetTotalUserCoordApi2.data.data)===null||_GetTotalUserCoordApi3===void 0?void 0:_GetTotalUserCoordApi3.x_axis)!==null&&_GetTotalUserCoordApi!==void 0?_GetTotalUserCoordApi:[]},yaxis:{labels:{formatter:value=>value===null||value===void 0?void 0:value.toFixed(0)},tickAmount:getMaxTickAmount((_GetTotalUserCoordApi4=(_GetTotalUserCoordApi5=GetTotalUserCoordApi.data)===null||_GetTotalUserCoordApi5===void 0?void 0:(_GetTotalUserCoordApi6=_GetTotalUserCoordApi5.data.data)===null||_GetTotalUserCoordApi6===void 0?void 0:_GetTotalUserCoordApi6.y_axis)!==null&&_GetTotalUserCoordApi4!==void 0?_GetTotalUserCoordApi4:[])},tooltip:{enabled:true},colors:[theme.palette.primary.main]},series:[{name:'Total Users',data:(_GetTotalUserCoordApi7=(_GetTotalUserCoordApi8=GetTotalUserCoordApi.data)===null||_GetTotalUserCoordApi8===void 0?void 0:(_GetTotalUserCoordApi9=_GetTotalUserCoordApi8.data.data)===null||_GetTotalUserCoordApi9===void 0?void 0:_GetTotalUserCoordApi9.y_axis)!==null&&_GetTotalUserCoordApi7!==void 0?_GetTotalUserCoordApi7:[]}],type:\"bar\",height:321})]})}),/*#__PURE__*/_jsx(Stack,{boxShadow:'0px 2px 8px 0px #00000026',padding:1.3,flexBasis:\"33%\",children:/*#__PURE__*/_jsxs(Stack,{gap:2,children:[/*#__PURE__*/_jsxs(Stack,{justifyContent:'space-between',flexDirection:'row',children:[/*#__PURE__*/_jsx(InterTypography,{fontWeight:600,variant:\"subtitle1\",children:\"Total Restaurants\"}),/*#__PURE__*/_jsx(IconFinder,{iconName:\"MoreVertical\",iconProps:{height:24,fill:'black'}})]}),/*#__PURE__*/_jsxs(Stack,{justifyContent:'space-between',flexDirection:'row',children:[/*#__PURE__*/_jsx(Stack,{gap:1,flexDirection:'row',children:REPORT_TYPE.map(c=>/*#__PURE__*/_jsx(Chip,{size:\"medium\",label:c,sx:{fontSize:10,height:27,backgroundColor:restaurantReport.type===c?'#E7EBFE':'transparent'},onClick:()=>setRestaurantReport({...restaurantReport,type:c})},c))}),/*#__PURE__*/_jsx(YearPicker,{onRightClick:()=>setRestaurantReport({...restaurantReport,date:moment(restaurantReport.date).add(1,'year')}),onLeftClick:()=>setRestaurantReport({...restaurantReport,date:moment(restaurantReport.date).subtract(1,'year')}),onCalenderClick:e=>handleAnchorEl({element:e.currentTarget,box:3}),onChange:value=>{setRestaurantReport({...restaurantReport,date:value});handleAnchorEl(null);},show:Boolean(anchorEl)&&(anchorEl===null||anchorEl===void 0?void 0:anchorEl.box)===3,handleClose:()=>handleAnchorEl(null),anchorEl:anchorEl===null||anchorEl===void 0?void 0:anchorEl.element,date:restaurantReport.date,position:{left:100}})]}),/*#__PURE__*/_jsx(Chart,{options:{chart:{zoom:{enabled:false}},dataLabels:{enabled:false},xaxis:{categories:(_GetTotalRestaurentCo=(_GetTotalRestaurentCo2=GetTotalRestaurentCoordApi.data)===null||_GetTotalRestaurentCo2===void 0?void 0:(_GetTotalRestaurentCo3=_GetTotalRestaurentCo2.data.data)===null||_GetTotalRestaurentCo3===void 0?void 0:_GetTotalRestaurentCo3.x_axis)!==null&&_GetTotalRestaurentCo!==void 0?_GetTotalRestaurentCo:[]},yaxis:{labels:{formatter:value=>value===null||value===void 0?void 0:value.toFixed(0)},tickAmount:getMaxTickAmount((_GetTotalRestaurentCo4=(_GetTotalRestaurentCo5=GetTotalRestaurentCoordApi.data)===null||_GetTotalRestaurentCo5===void 0?void 0:(_GetTotalRestaurentCo6=_GetTotalRestaurentCo5.data.data)===null||_GetTotalRestaurentCo6===void 0?void 0:_GetTotalRestaurentCo6.y_axis)!==null&&_GetTotalRestaurentCo4!==void 0?_GetTotalRestaurentCo4:[])},tooltip:{enabled:true},colors:[theme.palette.primary.main]},series:[{name:'Total Restaurants',data:(_GetTotalRestaurentCo7=(_GetTotalRestaurentCo8=GetTotalRestaurentCoordApi.data)===null||_GetTotalRestaurentCo8===void 0?void 0:(_GetTotalRestaurentCo9=_GetTotalRestaurentCo8.data.data)===null||_GetTotalRestaurentCo9===void 0?void 0:_GetTotalRestaurentCo9.y_axis)!==null&&_GetTotalRestaurentCo7!==void 0?_GetTotalRestaurentCo7:[]}],type:\"bar\",height:321})]})})]})]});};export default/*#__PURE__*/memo(Dashboard);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}