{"ast":null,"code":"import DetailsTable from'@components/DetailsTable';import IconFinder from'@components/Icon';import{useSnackbar}from'@components/Snackbar';import{PoppinsTypography}from'@components/Typography';import Uploader from'@components/Uploader';import{useForgotPasswordApi}from'@hooks/admin-forgot-password';import{useGetProfileApi,useUpdateProfileApi}from'@hooks/admin-settings';import{LoadingButton}from'@mui/lab';import{Stack,useTheme}from'@mui/material';import{setUserInfo}from'_store/actions/ui-actions';import{memo,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{var _getProfileApi$data2,_getProfileApi$data3,_getProfileApi$data4,_getProfileApi$data$d,_getProfileApi$data5;const theme=useTheme();const dispatch=useDispatch();const getProfileApi=useGetProfileApi();const ForgotPasswordApi=useForgotPasswordApi();const updateProfileApi=useUpdateProfileApi();const{showSnackbar,hideSnackbar}=useSnackbar();const{userInfo}=useSelector(state=>state.richPenny);const handleUploder=e=>{var _e$target;updateProfileApi.mutateAsync({request:{admin_profile:(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.files}}).then(response=>{var _response$data,_getProfileApi$refetc;showSnackbar({title:'Success!',variant:'sucess',content:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message,onCancel:()=>hideSnackbar()});// eslint-disable-next-line @typescript-eslint/no-floating-promises\n(_getProfileApi$refetc=getProfileApi.refetch)===null||_getProfileApi$refetc===void 0?void 0:_getProfileApi$refetc.call(getProfileApi);}).catch(error=>{var _error$response,_error$response$data;showSnackbar({title:'Error!',variant:'error',content:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message,onCancel:()=>hideSnackbar()});});};const handleResetPassword=()=>{var _userInfo$email,_userInfo$id;ForgotPasswordApi.mutateAsync({request:{admin_email:(_userInfo$email=userInfo===null||userInfo===void 0?void 0:userInfo.email)!==null&&_userInfo$email!==void 0?_userInfo$email:'',admin_user_id:(_userInfo$id=userInfo===null||userInfo===void 0?void 0:userInfo.id)!==null&&_userInfo$id!==void 0?_userInfo$id:''}}).then(response=>{var _response$data2,_getProfileApi$refetc2;showSnackbar({title:'Success!',variant:'sucess',content:(_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.message,onCancel:()=>hideSnackbar()});// eslint-disable-next-line @typescript-eslint/no-floating-promises\n(_getProfileApi$refetc2=getProfileApi.refetch)===null||_getProfileApi$refetc2===void 0?void 0:_getProfileApi$refetc2.call(getProfileApi);}).catch(error=>{var _error$response2,_error$response2$data;showSnackbar({title:'Error!',variant:'error',content:(_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message,onCancel:()=>hideSnackbar()});});};useEffect(()=>{var _ref,_getProfileApi$data;dispatch(setUserInfo({...userInfo,avatar:(_ref=(_getProfileApi$data=getProfileApi.data)===null||_getProfileApi$data===void 0?void 0:_getProfileApi$data.data.data.admin_profile)!==null&&_ref!==void 0?_ref:''}));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[getProfileApi.dataUpdatedAt]);return/*#__PURE__*/_jsxs(Stack,{gap:5,children:[/*#__PURE__*/_jsxs(Stack,{gap:2//flexGrow={1}\n,flexDirection:'row',justifyContent:'space-between',children:[/*#__PURE__*/_jsx(Stack//flexDirection={'row'}\n,{sx:{'& table':{borderCollapse:'separate',borderSpacing:\"0 4px\"},'& tr':{verticalAlign:'top'},'& .tdValue':{paddingLeft:\"6px\"}},children:/*#__PURE__*/_jsx(DetailsTable,{data:[{name:/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:\"12px\",justifyContent:'space-between',children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Name \"}),/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText,paddingX:8},children:\":\"})]}),value:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",fontWeight:600,sx:{color:theme.palette.common.primaryGreyText},children:(_getProfileApi$data2=getProfileApi.data)===null||_getProfileApi$data2===void 0?void 0:_getProfileApi$data2.data.data.admin_name}),showWhen:true},{name:/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:\"12px\",justifyContent:'space-between',children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Email ID \"}),/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText,paddingX:8},children:\":\"})]}),value:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText},children:(_getProfileApi$data3=getProfileApi.data)===null||_getProfileApi$data3===void 0?void 0:_getProfileApi$data3.data.data.email}),showWhen:true},{name:/*#__PURE__*/_jsxs(Stack,{flexDirection:'row',gap:\"12px\",justifyContent:'space-between',children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Phone Number \"}),/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText,paddingX:8},children:\":\"})]}),value:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.primaryGreyText},children:(_getProfileApi$data4=getProfileApi.data)===null||_getProfileApi$data4===void 0?void 0:_getProfileApi$data4.data.data.mobile_no}),showWhen:true}]})}),/*#__PURE__*/_jsx(Stack,{gap:5,paddingRight:'7%',children:/*#__PURE__*/_jsx(Uploader,{fieldName:\"fieldName\",sx:{placeContent:'flex-end',width:175,height:175,borderRadius:'8px'},file:(_getProfileApi$data$d=(_getProfileApi$data5=getProfileApi.data)===null||_getProfileApi$data5===void 0?void 0:_getProfileApi$data5.data.data.admin_profile)!==null&&_getProfileApi$data$d!==void 0?_getProfileApi$data$d:'',onChange:handleUploder,children:/*#__PURE__*/_jsx(IconFinder,{iconName:'UploadPicture'})})})]}),/*#__PURE__*/_jsx(LoadingButton,{size:\"large\",variant:\"contained\",color:\"primary\",sx:{width:237,height:51,borderRadius:'8px'},onClick:handleResetPassword,loading:ForgotPasswordApi.isLoading,children:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.white},children:\"Re-Set Password\"})})]});};export default/*#__PURE__*/memo(Profile);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}