{"ast":null,"code":"import Pagination from'@components/Pagination';import Table from'@components/Table';import{useGetQrCodeHistoryApi}from'@hooks/admin-qrcode';import{Stack,useTheme}from'@mui/material';import{generateSerialNumber}from'@utils/common';import moment from'moment';import{memo,useRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const HistoryTableTab=()=>{var _searchInputRef$curre,_GetQrCodeHistoryApi$,_GetQrCodeHistoryApi$2,_ref6,_GetQrCodeHistoryApi$7,_ref7,_GetQrCodeHistoryApi$8;const theme=useTheme();const searchInputRef=useRef(null);const[pageRequest,setPageRequest]=useState({page:1,size:10});const[sortRequest,setSortRequest]=useState({});const GetQrCodeHistoryApi=useGetQrCodeHistoryApi({...pageRequest,...sortRequest,search:(_searchInputRef$curre=searchInputRef.current)===null||_searchInputRef$curre===void 0?void 0:_searchInputRef$curre.value});const handlePage=page=>{setPageRequest({...pageRequest,page});};const rows=(_GetQrCodeHistoryApi$=(_GetQrCodeHistoryApi$2=GetQrCodeHistoryApi.data)===null||_GetQrCodeHistoryApi$2===void 0?void 0:_GetQrCodeHistoryApi$2.data.data)!==null&&_GetQrCodeHistoryApi$!==void 0?_GetQrCodeHistoryApi$:[];const columns=[{field:'SL No',renderHeader:()=>\"SL No\",renderCell:_ref=>{var _GetQrCodeHistoryApi$3,_GetQrCodeHistoryApi$4,_GetQrCodeHistoryApi$5,_GetQrCodeHistoryApi$6;let{rowNumber}=_ref;return generateSerialNumber((_GetQrCodeHistoryApi$3=(_GetQrCodeHistoryApi$4=GetQrCodeHistoryApi.data)===null||_GetQrCodeHistoryApi$4===void 0?void 0:_GetQrCodeHistoryApi$4.data.page)!==null&&_GetQrCodeHistoryApi$3!==void 0?_GetQrCodeHistoryApi$3:0,(_GetQrCodeHistoryApi$5=(_GetQrCodeHistoryApi$6=GetQrCodeHistoryApi.data)===null||_GetQrCodeHistoryApi$6===void 0?void 0:_GetQrCodeHistoryApi$6.data.size)!==null&&_GetQrCodeHistoryApi$5!==void 0?_GetQrCodeHistoryApi$5:0,rowNumber);},tableCellProps:{sx:{width:150}},tableCellTypographySx:{paddingLeft:theme.spacing(1)},tableHeaderProps:{sx:{width:150}}},{field:'action',renderHeader:()=>\"Action\",renderCell:_ref2=>{let{row}=_ref2;return row.action;},tableCellProps:{sx:{width:500}},tableHeaderProps:{sx:{width:500}},sortable:true},{field:'by_or_to_id',renderHeader:()=>'By/To',renderCell:_ref3=>{let{row}=_ref3;return row.by_or_to_id;},tableCellProps:{sx:{width:300}},tableHeaderProps:{sx:{width:300}},sortable:true},{field:'added_datetime',renderHeader:()=>\"Date\",renderCell:_ref4=>{var _row$added_datetime;let{row}=_ref4;return moment((_row$added_datetime=row.added_datetime)!==null&&_row$added_datetime!==void 0?_row$added_datetime:'').format('DD MMM YYYY');},tableCellProps:{sx:{width:300}},tableHeaderProps:{sx:{width:300}},sortable:true},{field:'qr_number',renderHeader:()=>\"Number\",renderCell:_ref5=>{let{row}=_ref5;return row.qr_number;},tableCellProps:{sx:{width:150,textAlign:'-webkit-left',paddingRight:theme.spacing(6)}},tableHeaderProps:{sx:{width:150,justifyContent:'left'}}}];return/*#__PURE__*/_jsxs(Stack,{gap:2,flexGrow:'inherit',children:[/*#__PURE__*/_jsx(Table,{rows:rows,columns:columns,rowId:row=>row.id,tableProps:{size:'small',stickyHeader:false},tableRowProps:{hover:true},onSortChange:sort=>{setSortRequest({sort_by:sort===null||sort===void 0?void 0:sort.field,order:sort===null||sort===void 0?void 0:sort.order});},loading:GetQrCodeHistoryApi.isLoading}),/*#__PURE__*/_jsx(Pagination,{page:pageRequest.page,size:(_ref6=(_GetQrCodeHistoryApi$7=GetQrCodeHistoryApi.data)===null||_GetQrCodeHistoryApi$7===void 0?void 0:_GetQrCodeHistoryApi$7.data.size)!==null&&_ref6!==void 0?_ref6:0,totalPages:(_ref7=(_GetQrCodeHistoryApi$8=GetQrCodeHistoryApi.data)===null||_GetQrCodeHistoryApi$8===void 0?void 0:_GetQrCodeHistoryApi$8.data.pagesTotal)!==null&&_ref7!==void 0?_ref7:0,onPageChange:handlePage})]});};export default/*#__PURE__*/memo(HistoryTableTab);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}