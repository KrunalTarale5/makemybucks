{"ast":null,"code":"import { setDirty } from '_store/actions/ui-actions';\nimport { store } from '_store/store';\nimport Axios from 'axios';\nAxios.interceptors.request.use(config => {\n  var _store$getState, _store$getState$richP;\n  config.url = `${String(process.env.REACT_APP_GATEWAY_API)}${String(config.url)}`;\n  const token = (_store$getState = store.getState()) === null || _store$getState === void 0 ? void 0 : (_store$getState$richP = _store$getState.richPenny) === null || _store$getState$richP === void 0 ? void 0 : _store$getState$richP.token;\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nAxios.interceptors.response.use(response => {\n  return response;\n}, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 402) {\n    store.dispatch(setDirty(true));\n  }\n  return Promise.reject(error);\n});","map":{"version":3,"names":["setDirty","store","Axios","interceptors","request","use","config","_store$getState","_store$getState$richP","url","String","process","env","REACT_APP_GATEWAY_API","token","getState","richPenny","headers","Authorization","response","error","_error$response","status","dispatch","Promise","reject"],"sources":["C:/Users/Krunal Tarale/Downloads/public/src/@utils/axiosInterceptors.ts"],"sourcesContent":["import { setDirty } from '_store/actions/ui-actions';\r\nimport { store } from '_store/store';\r\nimport Axios, { AxiosError } from 'axios';\r\n\r\nAxios.interceptors.request.use((config) => {\r\n\tconfig.url = `${String(process.env.REACT_APP_GATEWAY_API)}${String(config.url)}`;\r\n\r\n\tconst token: string | null = store.getState()?.richPenny?.token;\r\n\tif (token) {\r\n\t\tconfig.headers.Authorization = `Bearer ${token}`;\r\n\t}\r\n\treturn config;\r\n});\r\n\r\nAxios.interceptors.response.use(\r\n\t(response) => {\r\n\t\treturn response;\r\n\t},\r\n\t(error: AxiosError) => {\r\n\t\tif (error.response?.status === 402) {\r\n\t\t\tstore.dispatch(setDirty(true));\r\n\t\t}\r\n\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n);\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,2BAA2B;AACpD,SAASC,KAAK,QAAQ,cAAc;AACpC,OAAOC,KAAK,MAAsB,OAAO;AAEzCA,KAAK,CAACC,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAAA,IAAAC,eAAA,EAAAC,qBAAA;EAC1CF,MAAM,CAACG,GAAG,GAAI,GAAEC,MAAM,CAACC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAAE,GAAEH,MAAM,CAACJ,MAAM,CAACG,GAAG,CAAE,EAAC;EAEhF,MAAMK,KAAoB,IAAAP,eAAA,GAAGN,KAAK,CAACc,QAAQ,CAAC,CAAC,cAAAR,eAAA,wBAAAC,qBAAA,GAAhBD,eAAA,CAAkBS,SAAS,cAAAR,qBAAA,uBAA3BA,qBAAA,CAA6BM,KAAK;EAC/D,IAAIA,KAAK,EAAE;IACVR,MAAM,CAACW,OAAO,CAACC,aAAa,GAAI,UAASJ,KAAM,EAAC;EACjD;EACA,OAAOR,MAAM;AACd,CAAC,CAAC;AAEFJ,KAAK,CAACC,YAAY,CAACgB,QAAQ,CAACd,GAAG,CAC7Bc,QAAQ,IAAK;EACb,OAAOA,QAAQ;AAChB,CAAC,EACAC,KAAiB,IAAK;EAAA,IAAAC,eAAA;EACtB,IAAI,EAAAA,eAAA,GAAAD,KAAK,CAACD,QAAQ,cAAAE,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;IACnCrB,KAAK,CAACsB,QAAQ,CAACvB,QAAQ,CAAC,IAAI,CAAC,CAAC;EAC/B;EAEA,OAAOwB,OAAO,CAACC,MAAM,CAACL,KAAK,CAAC;AAC7B,CACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}