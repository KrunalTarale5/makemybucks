{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { validateForm } from '@utils/validateUtils';\nimport { validatePhoneNumber } from '@utils/validator';\nimport axios from 'axios';\nimport { useMutation } from 'react-query';\nexport const LoginFormFields = {\n  phone_no: {\n    label: 'Enter Your Mobile Number',\n    fieldType: 'mobile-number',\n    inputProps: {\n      inputMode: 'tel'\n    }\n  }\n};\nexport const validateLoginFields = (fieldName, formData) => {\n  switch (fieldName) {\n    case 'phone_no':\n      return validatePhoneNumber(formData[fieldName]);\n    default:\n      return '';\n  }\n};\nexport const validateLoginForm = formData => validateForm(formData, validateLoginFields);\nexport const useSendOTPApi = () => {\n  _s();\n  return useMutation(info => axios({\n    method: 'POST',\n    url: `/send_user_otp/`,\n    data: info.request\n  }));\n};\n_s(useSendOTPApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});\nexport const useVerifyOTPApi = () => {\n  _s2();\n  return useMutation(info => axios({\n    method: 'POST',\n    url: `/verify_user_otp/`,\n    data: info.request\n  }));\n};\n_s2(useVerifyOTPApi, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});","map":{"version":3,"names":["validateForm","validatePhoneNumber","axios","useMutation","LoginFormFields","phone_no","label","fieldType","inputProps","inputMode","validateLoginFields","fieldName","formData","validateLoginForm","useSendOTPApi","_s","info","method","url","data","request","useVerifyOTPApi","_s2"],"sources":["C:/Users/Krunal Tarale/Downloads/public/src/@hooks/user-app-login.ts"],"sourcesContent":["import { FieldProps, FormError } from '@interfaces/common';\r\nimport { validateForm } from '@utils/validateUtils';\r\nimport { validatePhoneNumber } from '@utils/validator';\r\nimport axios from 'axios';\r\nimport { useMutation } from 'react-query';\r\n\r\nexport type LoginRequest = { phone_no: string };\r\n\r\nexport type LoginFormFields = {\r\n\t[key in keyof LoginRequest]: FieldProps;\r\n};\r\n\r\nexport const LoginFormFields: Partial<LoginFormFields> = {\r\n\tphone_no: {\r\n\t\tlabel: 'Enter Your Mobile Number',\r\n\t\tfieldType: 'mobile-number',\r\n\t\tinputProps: {\r\n\t\t\tinputMode: 'tel',\r\n\t\t},\r\n\t},\r\n};\r\n\r\nexport const validateLoginFields = (\r\n\tfieldName: keyof LoginRequest,\r\n\tformData: LoginRequest\r\n): string => {\r\n\tswitch (fieldName) {\r\n\t\tcase 'phone_no':\r\n\t\t\treturn validatePhoneNumber(formData[fieldName]);\r\n\r\n\t\tdefault:\r\n\t\t\treturn '';\r\n\t}\r\n};\r\n\r\nexport const validateLoginForm = (formData: LoginRequest): FormError<LoginRequest> =>\r\n\tvalidateForm(formData, validateLoginFields);\r\n\r\nexport type LoginResponse = {\r\n\taccess_token: string;\r\n\tuser_data: {\r\n\t\tsubadmin_id: string;\r\n\t\tsubadmin_firstname: string;\r\n\t\tsubadmin_lastname: string;\r\n\t\temail: string;\r\n\t\tmobile_no: string;\r\n\t\tsubadmin_user_id: string;\r\n\t\tprofile_pic: string;\r\n\t};\r\n};\r\nexport const useSendOTPApi = () => {\r\n\treturn useMutation((info: { request: LoginRequest }) =>\r\n\t\taxios({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: `/send_user_otp/`,\r\n\t\t\tdata: info.request,\r\n\t\t})\r\n\t);\r\n};\r\n\r\nexport type VerifyOtpResponse = {\r\n\taccess_token: string;\r\n\tregister_status: string;\r\n\tkyc_status: string;\r\n};\r\n\r\nexport const useVerifyOTPApi = () => {\r\n\treturn useMutation(\r\n\t\t(info: {\r\n\t\t\trequest: {\r\n\t\t\t\tphone_no: string | number;\r\n\t\t\t\totp: string | number;\r\n\t\t\t};\r\n\t\t}) =>\r\n\t\t\taxios<VerifyOtpResponse>({\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\turl: `/verify_user_otp/`,\r\n\t\t\t\tdata: info.request,\r\n\t\t\t})\r\n\t);\r\n};\r\n"],"mappings":";;AACA,SAASA,YAAY,QAAQ,sBAAsB;AACnD,SAASC,mBAAmB,QAAQ,kBAAkB;AACtD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,aAAa;AAQzC,OAAO,MAAMC,eAAyC,GAAG;EACxDC,QAAQ,EAAE;IACTC,KAAK,EAAE,0BAA0B;IACjCC,SAAS,EAAE,eAAe;IAC1BC,UAAU,EAAE;MACXC,SAAS,EAAE;IACZ;EACD;AACD,CAAC;AAED,OAAO,MAAMC,mBAAmB,GAAGA,CAClCC,SAA6B,EAC7BC,QAAsB,KACV;EACZ,QAAQD,SAAS;IAChB,KAAK,UAAU;MACd,OAAOV,mBAAmB,CAACW,QAAQ,CAACD,SAAS,CAAC,CAAC;IAEhD;MACC,OAAO,EAAE;EACX;AACD,CAAC;AAED,OAAO,MAAME,iBAAiB,GAAID,QAAsB,IACvDZ,YAAY,CAACY,QAAQ,EAAEF,mBAAmB,CAAC;AAc5C,OAAO,MAAMI,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,OAAOZ,WAAW,CAAEa,IAA+B,IAClDd,KAAK,CAAC;IACLe,MAAM,EAAE,MAAM;IACdC,GAAG,EAAG,iBAAgB;IACtBC,IAAI,EAAEH,IAAI,CAACI;EACZ,CAAC,CACF,CAAC;AACF,CAAC;AAACL,EAAA,CARWD,aAAa;EAAA,QAClBX,WAAW;AAAA;AAenB,OAAO,MAAMkB,eAAe,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACpC,OAAOnB,WAAW,CAChBa,IAKA,IACAd,KAAK,CAAoB;IACxBe,MAAM,EAAE,MAAM;IACdC,GAAG,EAAG,mBAAkB;IACxBC,IAAI,EAAEH,IAAI,CAACI;EACZ,CAAC,CACH,CAAC;AACF,CAAC;AAACE,GAAA,CAdWD,eAAe;EAAA,QACpBlB,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}