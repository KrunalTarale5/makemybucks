{"ast":null,"code":"import InputField from'@components/InputField';import{useSnackbar}from'@components/Snackbar';import{PoppinsTypography}from'@components/Typography';import{HandoverQrFields,useGetSelectExecutiveListApi,useHandoverQrApi,validateHandoverQrForm}from'@hooks/admin-qrcode';import{LoadingButton}from'@mui/lab';import{Button,Stack,useTheme}from'@mui/material';import{memo,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const BUTTONS=[50,100,200];const intialFormData={sub_admin_id:'',number:''};const intialFormError={sub_admin_id:''};const HandoverQr=props=>{var _GetSelectExecutiveLi;const theme=useTheme();const{showSnackbar,hideSnackbar}=useSnackbar();const HandoverQrApi=useHandoverQrApi();const GetSelectExecutiveListApi=useGetSelectExecutiveListApi();const[formData,setFormData]=useState(intialFormData);const[formError,setFormError]=useState(intialFormError);const onChange=(fieldName,value)=>{const _formData={...formData,[fieldName]:value};setFormData(_formData);setFormError({...formError,[fieldName]:HandoverQrFields(fieldName,_formData)});};const handleClick=()=>{var _formData$sub_admin_i;const validatation=validateHandoverQrForm(formData);if(validatation.hasError){setFormError(validatation.errors);return;}HandoverQrApi.mutateAsync({request:{...formData,sub_admin_id:(_formData$sub_admin_i=formData.sub_admin_id)===null||_formData$sub_admin_i===void 0?void 0:_formData$sub_admin_i.value}}).then(response=>{var _response$data;setFormData(intialFormData);showSnackbar({title:'Success!',variant:'sucess',content:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message,onCancel:()=>hideSnackbar()});props.refetch();}).catch(error=>{var _error$response,_error$response$data;showSnackbar({title:'Error!',variant:'error',content:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message,onCancel:()=>hideSnackbar()});});};return/*#__PURE__*/_jsxs(Stack,{gap:5,children:[/*#__PURE__*/_jsx(InputField,{fieldName:'sub_admin_id',value:formData.sub_admin_id,fieldProps:{label:'Select Executive',placeholder:'Select Executive ',error:Boolean(formError['sub_admin_id']),helperText:formError['sub_admin_id'],size:'medium',options:(_GetSelectExecutiveLi=GetSelectExecutiveListApi.data)===null||_GetSelectExecutiveLi===void 0?void 0:_GetSelectExecutiveLi.data.subadmins_list,sx:{'& .MuiOutlinedInput-notchedOutline':{borderColor:theme.palette.common.secondaryGreyText,borderRadius:\"8px\"},'& .MuiInputBase-input':{height:11},'& .MuiInputBase-root':{width:'30%'},'& .MuiTypography-subtitle1':{color:theme.palette.common.secondaryGreyText}}},fieldType:'select',onChange:onChange}),/*#__PURE__*/_jsxs(Stack,{gap:1,children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",sx:{color:theme.palette.common.secondaryGreyText},children:\"Select Your Number\"}),/*#__PURE__*/_jsx(Stack,{flexDirection:'row',gap:1,children:BUTTONS.map((l,index)=>/*#__PURE__*/_jsx(Button,{size:\"large\",variant:formData.number===String(l)?'contained':'outlined',color:\"primary\",sx:{...(formData.number===String(l)&&{borderColor:'#DFE3ED'}),width:100,height:40,borderRadius:'8px'},onClick:()=>onChange('number',String(l)),children:l},index))})]}),/*#__PURE__*/_jsx(LoadingButton,{size:\"large\",variant:\"contained\",color:\"primary\",sx:{width:209,height:51,borderRadius:'8px'},onClick:handleClick,disabled:formData.number===''||formData.sub_admin_id==='',loading:HandoverQrApi.isLoading,children:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",children:\"Handover\"})})]});};export default/*#__PURE__*/memo(HandoverQr);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}