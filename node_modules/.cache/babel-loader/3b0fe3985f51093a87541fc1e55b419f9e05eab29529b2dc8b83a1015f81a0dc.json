{"ast":null,"code":"import AuthWrapper from'../../../@components/AuthWrapper';import{Button,Stack}from'@mui/material';import IconFinder from'@components/Icon';import{InterTypography}from'@components/Typography';import{useState}from'react';import{VerifyResetPasswordFields,useVerifyPasswordApi,validateVerifyResetPasswordFields,validateVerifyResetPasswordForm}from'@hooks/admin-verify-reset-password';import InputField from'@components/InputField';import SuccessPage from'./SuccessPage';import{useSearchParams}from'react-router-dom';import{useSnackbar}from'@components/Snackbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const intialFormData={new_password:'',confirm_password:''};const intialFormError={new_password:'',confirm_password:''};const VerifyResetPassword=()=>{const{showSnackbar,hideSnackbar}=useSnackbar();const[searchParams]=useSearchParams();const VerifyPasswordApi=useVerifyPasswordApi();const[formData,setFormData]=useState(intialFormData);const[formError,setFormError]=useState(intialFormError);const onChange=(fieldName,value)=>{const _formData={...formData,[fieldName]:value};setFormData(_formData);setFormError({...formError,[fieldName]:validateVerifyResetPasswordFields(fieldName,_formData)});};const handleLogin=()=>{const validatation=validateVerifyResetPasswordForm(formData);if(validatation.hasError){setFormError(validatation.errors);return;}VerifyPasswordApi.mutateAsync({request:{...formData,otp:searchParams===null||searchParams===void 0?void 0:searchParams.get('key')}}).catch(error=>{var _error$response,_error$response$data;showSnackbar({title:'Error!',variant:'error',content:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message,onCancel:()=>hideSnackbar()});});};return/*#__PURE__*/_jsx(_Fragment,{children:VerifyPasswordApi.isSuccess?/*#__PURE__*/_jsx(SuccessPage,{message:'Password reset successfully'}):/*#__PURE__*/_jsx(AuthWrapper,{backgroundImage:true,children:/*#__PURE__*/_jsxs(Stack,{alignItems:'center',gap:5,children:[/*#__PURE__*/_jsx(IconFinder,{iconName:\"DesktopResetLogo\"}),/*#__PURE__*/_jsxs(Stack,{gap:2,width:\"100%\",alignItems:'center',children:[/*#__PURE__*/_jsx(InterTypography,{variant:\"h4\",color:'white',children:\"Reset Password\"}),/*#__PURE__*/_jsx(InterTypography,{variant:\"subtitle1\",color:'white',children:\"Enter your Details and we\\u2019ll send you an email with instructions to reset your password.\"})]}),/*#__PURE__*/_jsxs(Stack,{gap:4,width:\"70%\",alignItems:'center',children:[/*#__PURE__*/_jsx(Stack,{gap:2,width:\"100%\",children:Object.entries(VerifyResetPasswordFields).map(v=>{const fieldName=v[0];const fieldProps=v[1];return/*#__PURE__*/_jsx(InputField,{fieldName:fieldName,value:formData[fieldName],fieldProps:{...fieldProps,color:'secondary',fullWidth:true,sx:{'.MuiTypography-subtitle1':{color:\"white\",fontFamily:'inter'},'& .MuiOutlinedInput-notchedOutline':{color:\"white\",borderColor:\"white !important\"},'& .MuiInputBase-input':{color:\"white\",height:27}},error:Boolean(formError[fieldName]),helperText:formError[fieldName]},fieldType:fieldProps.fieldType,onChange:onChange},fieldName);})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",color:\"ternary\",fullWidth:true,onClick:handleLogin,sx:{height:\"66px\"},children:/*#__PURE__*/_jsx(InterTypography,{variant:\"h5\",fontWeight:600,children:\"Submit\"})})]})]})})});};export default VerifyResetPassword;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}