{"ast":null,"code":"import InputField from'@components/InputField';import{PoppinsTypography}from'@components/Typography';import{AddSalesExecutiveContext,AddressDetailsFormFields,useGetStateApi,validateAddressDetailsFields,validateAddressDetailsForm}from'@hooks/admin-add-sales-executive';import{Checkbox,FormControlLabel,Grid,Stack,useTheme}from'@mui/material';import{memo,useContext,useState}from'react';import NavigateButtons from'../NavigateButtons';import{validateIsNumber}from'@utils/validator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const localAddIntialFormData=formData=>({local_flat_no:formData.local_flat_no,local_street_name:formData.local_street_name,local_city:formData.local_city,local_pin_code:formData.local_pin_code,local_state:formData.local_state});const localAddIntialFormError={local_flat_no:'',local_street_name:'',local_city:'',local_pin_code:'',local_state:''};const permanentAddIntialFormData=formData=>({permanent_flat_no:formData.permanent_flat_no,permanent_street_name:formData.local_street_name,permanent_city:formData.permanent_city,permanent_pin_code:formData.permanent_pin_code,permanent_state:formData.permanent_state});const permanaentAddIntialFormError={permanent_flat_no:'',permanent_street_name:'',permanent_city:'',permanent_pin_code:'',permanent_state:''};const AddressDetailsForm=()=>{const theme=useTheme();const formContext=useContext(AddSalesExecutiveContext);const GetStateApi=useGetStateApi();const[localAddformData,setLocalAddFormData]=useState(localAddIntialFormData(formContext.formData));const[permanentAddformData,setPermanentAddFormData]=useState(permanentAddIntialFormData(formContext.formData));const[localAddformError,setLocalAddFormError]=useState(localAddIntialFormError);const[permanentAddFormError,setPermanentAddFormError]=useState(permanaentAddIntialFormError);const onLocalAddChange=(fieldName,value,fieldType)=>{let _formData={};if(fieldType==='number'){const isNumber=validateIsNumber(String(value));_formData={...localAddformData,[fieldName]:isNumber?value:localAddformData[fieldName]};}else{_formData={...localAddformData,[fieldName]:value};}setLocalAddFormData(_formData);setLocalAddFormError({...localAddformError,[fieldName]:validateAddressDetailsFields(fieldName,_formData)});};const onPermanentAddChange=(fieldName,value,fieldType)=>{let _formData={};if(fieldType==='number'){const isNumber=validateIsNumber(String(value));_formData={...permanentAddformData,[fieldName]:isNumber?value:permanentAddformData[fieldName]};}else{_formData={...permanentAddformData,[fieldName]:value};}setPermanentAddFormData(_formData);setPermanentAddFormError({...permanentAddFormError,[fieldName]:validateAddressDetailsFields(fieldName,_formData)});};const handleNextClick=()=>{const validatation=validateAddressDetailsForm({...localAddformData,...permanentAddformData});if(validatation.hasError){setLocalAddFormError(validatation.errors);setPermanentAddFormError(validatation.errors);return;}formContext.setFormData({...formContext.formData,...localAddformData,...permanentAddformData});formContext.setActiveStep(formContext.activeStep+1);};const handlePreviousClick=()=>{formContext.setActiveStep(formContext.activeStep-1);};const onSameAsClick=e=>{const data={permanent_city:localAddformData.local_city,permanent_flat_no:localAddformData.local_flat_no,permanent_pin_code:localAddformData.local_pin_code,permanent_state:localAddformData.local_state,permanent_street_name:localAddformData.local_street_name};setPermanentAddFormData(e.target.checked?{permanent_city:localAddformData.local_city,permanent_flat_no:localAddformData.local_flat_no,permanent_pin_code:localAddformData.local_pin_code,permanent_state:localAddformData.local_state,permanent_street_name:localAddformData.local_street_name}:{});if(e.target.checked){const errors=permanentAddFormError;Object.keys(errors).forEach(fieldName=>{errors[fieldName]=validateAddressDetailsFields(fieldName,{...permanentAddformData,...data});});setPermanentAddFormError({...permanentAddFormError,...errors});}};const getOptions=fieldName=>{var _GetStateApi$data;switch(fieldName){case'permanent_state':case'local_state':return(_GetStateApi$data=GetStateApi.data)===null||_GetStateApi$data===void 0?void 0:_GetStateApi$data.data.state_data.map(r=>({label:r.state_name,value:r.id}));default:break;}};return/*#__PURE__*/_jsxs(Stack,{gap:6,alignItems:'flex-start',children:[/*#__PURE__*/_jsxs(Stack,{width:\"100%\",flexDirection:'row',children:[/*#__PURE__*/_jsx(Stack,{flexBasis:\"50%\",children:/*#__PURE__*/_jsxs(Stack,{sx:{width:'466px !important'},gap:3,children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"body1\",fontWeight:600,textTransform:'uppercase',sx:{color:theme.palette.common.secondaryGreyText},children:\"Local Address\"}),Object.entries(AddressDetailsFormFields.localAddress).map(v=>{var _ref;const fieldName=v[0];const fieldProps=v[1];return(fieldName==='local_flat_no'||fieldName==='local_street_name')&&/*#__PURE__*/_jsx(InputField,{fieldName:fieldName,value:(_ref=localAddformData[fieldName])!==null&&_ref!==void 0?_ref:'',fieldProps:{...fieldProps,color:'secondary',fullWidth:true,sx:{gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"}},autoComplete:'off',error:Boolean(localAddformError[fieldName]),helperText:localAddformError[fieldName]},fieldType:fieldProps.fieldType,onChange:onLocalAddChange},fieldName);}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,children:/*#__PURE__*/_jsx(Grid,{item:true,display:'inline-grid',gridTemplateColumns:\"1.5fr 1fr\",rowGap:3,columnGap:1,children:Object.entries(AddressDetailsFormFields.localAddress).map(v=>{var _ref2;const fieldName=v[0];const fieldProps=v[1];return(fieldName==='local_city'||fieldName==='local_pin_code')&&/*#__PURE__*/_jsx(InputField,{fieldName:fieldName,value:(_ref2=localAddformData[fieldName])!==null&&_ref2!==void 0?_ref2:'',fieldProps:{...fieldProps,color:'secondary',fullWidth:true,sx:{gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"}},autoComplete:'off',error:Boolean(localAddformError[fieldName]),helperText:localAddformError[fieldName]},fieldType:fieldProps.fieldType,onChange:onLocalAddChange},fieldName);})})}),Object.entries(AddressDetailsFormFields.localAddress).map(v=>{var _ref3;const fieldName=v[0];const fieldProps=v[1];return fieldName==='local_state'&&/*#__PURE__*/_jsx(InputField,{fieldName:fieldName,value:(_ref3=localAddformData[fieldName])!==null&&_ref3!==void 0?_ref3:'',fieldProps:{...fieldProps,color:'secondary',fullWidth:true,sx:{gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"}},options:getOptions(fieldName),autoComplete:'off',error:Boolean(localAddformError[fieldName]),helperText:localAddformError[fieldName]},fieldType:fieldProps.fieldType,onChange:onLocalAddChange},fieldName);})]})}),/*#__PURE__*/_jsx(Stack,{flexBasis:\"50%\",children:/*#__PURE__*/_jsxs(Stack,{sx:{width:'466px !important'},gap:3,children:[/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"body1\",fontWeight:600,textTransform:'uppercase',sx:{color:theme.palette.common.secondaryGreyText},children:\"Permanent Address\"}),Object.entries(AddressDetailsFormFields.permanentAddress).map(v=>{var _ref4;const fieldName=v[0];const fieldProps=v[1];return(fieldName==='permanent_flat_no'||fieldName==='permanent_street_name')&&/*#__PURE__*/_jsx(InputField,{fieldName:fieldName,value:(_ref4=permanentAddformData[fieldName])!==null&&_ref4!==void 0?_ref4:'',fieldProps:{...fieldProps,color:'secondary',fullWidth:true,sx:{gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"}},autoComplete:'off',error:Boolean(permanentAddFormError[fieldName]),helperText:permanentAddFormError[fieldName]},fieldType:fieldProps.fieldType,onChange:onPermanentAddChange},fieldName);}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,children:/*#__PURE__*/_jsx(Grid,{item:true,display:'inline-grid',gridTemplateColumns:\"1.5fr 1fr\",rowGap:3,columnGap:1,children:Object.entries(AddressDetailsFormFields.permanentAddress).map(v=>{var _ref5;const fieldName=v[0];const fieldProps=v[1];return(fieldName==='permanent_city'||fieldName==='permanent_pin_code')&&/*#__PURE__*/_jsx(InputField,{fieldName:fieldName,value:(_ref5=permanentAddformData[fieldName])!==null&&_ref5!==void 0?_ref5:'',fieldProps:{...fieldProps,color:'secondary',fullWidth:true,sx:{gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"}},autoComplete:'off',error:Boolean(permanentAddFormError[fieldName]),helperText:permanentAddFormError[fieldName]},fieldType:fieldProps.fieldType,onChange:onPermanentAddChange},fieldName);})})}),Object.entries(AddressDetailsFormFields.permanentAddress).map(v=>{var _ref6;const fieldName=v[0];const fieldProps=v[1];return fieldName==='permanent_state'&&/*#__PURE__*/_jsx(InputField,{fieldName:fieldName,value:(_ref6=permanentAddformData[fieldName])!==null&&_ref6!==void 0?_ref6:'',fieldProps:{...fieldProps,color:'secondary',fullWidth:true,sx:{gap:0,'.MuiTypography-subtitle1':{fontFamily:'Poppins',fontSize:\"14px\"}},options:getOptions(fieldName),autoComplete:'off',error:Boolean(permanentAddFormError[fieldName]),helperText:permanentAddFormError[fieldName]},fieldType:fieldProps.fieldType,onChange:onPermanentAddChange,addons:fieldName==='permanent_state'&&/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{color:\"primary\",size:\"small\",onChange:onSameAsClick}),label:/*#__PURE__*/_jsx(PoppinsTypography,{variant:\"subtitle1\",children:\"Same as Local Address\"})})},fieldName);})]})})]}),/*#__PURE__*/_jsx(NavigateButtons,{onNextClick:handleNextClick,onPreviousClick:handlePreviousClick})]});};export default/*#__PURE__*/memo(AddressDetailsForm);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}